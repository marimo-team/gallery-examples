{
  "version": "1",
  "metadata": {
    "marimo_version": "0.19.11"
  },
  "cells": [
    {
      "id": "setup",
      "code_hash": "9b6b5d7490a7d59ef8eb5886bd2a1e3f",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "Hbol",
      "code_hash": "1c4598d72952611029154c74937a8d29",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "MJUe",
      "code_hash": "b5db135217218659c8f0becd9a6da12d",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"listen-to-browser-gamepad-events\">Listen to browser gamepad events</h2>\n<span class=\"paragraph\">This widget streams button presses, d-pad status, and analog stick axes.\nPlug in a controller (or pair a Bluetooth one), press any button, and you should see data below.</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "vblA",
      "code_hash": "4dca00da67c692296690e90c50c96b79",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='Hbol-0' random-id='7515c6a1-9362-b536-57f4-a25e1f686da8'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;0e8d93d9a8984a32b32cbcb6490123f9&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHsgbW9kZWwsIGVsIH0pIHsKICBsZXQgY3VycmVudEJ1dHRvblByZXNzID0gbW9kZWwuZ2V0KCJjdXJyZW50X2J1dHRvbl9wcmVzcyIpOwogIGxldCBjdXJyZW50VGltZXN0YW1wID0gbW9kZWwuZ2V0KCJjdXJyZW50X3RpbWVzdGFtcCIpOwogIGxldCBwcmV2aW91c1RpbWVzdGFtcCA9IG1vZGVsLmdldCgicHJldmlvdXNfdGltZXN0YW1wIik7CiAgbGV0IGF4ZXMgPSBtb2RlbC5nZXQoImF4ZXMiKTsKICBsZXQgZHBhZFVwID0gbW9kZWwuZ2V0KCJkcGFkX3VwIik7CiAgbGV0IGRwYWREb3duID0gbW9kZWwuZ2V0KCJkcGFkX2Rvd24iKTsKICBsZXQgZHBhZExlZnQgPSBtb2RlbC5nZXQoImRwYWRfbGVmdCIpOwogIGxldCBkcGFkUmlnaHQgPSBtb2RlbC5nZXQoImRwYWRfcmlnaHQiKTsKICBsZXQgaXNNaW5pbWl6ZWQgPSBmYWxzZTsKCiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgY29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgCiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIHBhZGRpbmc6IDE2cHg7CiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICNlNWU3ZWI7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2Y5ZmFmYjsKICAgICAgICAgICAgbWF4LXdpZHRoOiA0MDBweDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgICAgICBgOwoKICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBoZWFkZXIuc3R5bGUuY3NzVGV4dCA9CiAgICAicG9zaXRpb246IHJlbGF0aXZlOyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMTJweDsiOwoKICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgzIik7CiAgdGl0bGUudGV4dENvbnRlbnQgPSAi8J+OriBNb3BhZCBXaWRnZXQiOwogIHRpdGxlLnN0eWxlLmNzc1RleHQgPSAibWFyZ2luOiAwOyBjb2xvcjogIzM3NDE1MTsgdGV4dC1hbGlnbjogY2VudGVyOyI7CgogIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogIHRvZ2dsZUJ1dHRvbi50ZXh0Q29udGVudCA9ICLiiJIiOwogIHRvZ2dsZUJ1dHRvbi5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgICAgICB0b3A6IDUwJTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNmI3MjgwOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgICAgICB3aWR0aDogMjRweDsKICAgICAgICAgICAgaGVpZ2h0OiAyNHB4OwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDE7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgIGA7CiAgdG9nZ2xlQnV0dG9uLm9ubW91c2VvdmVyID0gKCkgPT4gKHRvZ2dsZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kID0gIiM0YjU1NjMiKTsKICB0b2dnbGVCdXR0b24ub25tb3VzZW91dCA9ICgpID0+ICh0b2dnbGVCdXR0b24uc3R5bGUuYmFja2dyb3VuZCA9ICIjNmI3MjgwIik7CgogIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKCiAgY29uc3Qgc3RhdHVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgc3RhdHVzLnN0eWxlLmNzc1RleHQgPSBgCiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMnB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgYDsKCiAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgaW5zdHJ1Y3Rpb25zLnN0eWxlLmNzc1RleHQgPQogICAgImZvbnQtc2l6ZTogMTRweDsgY29sb3I6ICM2YjcyODA7IG1hcmdpbi1ib3R0b206IDEycHg7IjsKCiAgY29uc3QgdGltZXN0YW1wRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIHRpbWVzdGFtcERpc3BsYXkuc3R5bGUuY3NzVGV4dCA9IGAKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICBjb2xvcjogIzM3NDE1MTsKICAgICAgICAgICAgcGFkZGluZzogNHB4IDA7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7CiAgICAgICAgYDsKCiAgY29uc3QgYnV0dG9uRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIGJ1dHRvbkRpc3BsYXkuc3R5bGUuY3NzVGV4dCA9IGAKICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICBjb2xvcjogIzM3NDE1MTsKICAgICAgICAgICAgcGFkZGluZzogNHB4IDA7CiAgICAgICAgYDsKCiAgY29uc3QgZHBhZERpc3BsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBkcGFkRGlzcGxheS5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgIGNvbG9yOiAjMzc0MTUxOwogICAgICAgICAgICBwYWRkaW5nOiA0cHggMDsKICAgICAgICAgICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsKICAgICAgICBgOwoKICBjb25zdCBheGVzRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIGF4ZXNEaXNwbGF5LnN0eWxlLmNzc1RleHQgPSBgCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgY29sb3I6ICMzNzQxNTE7CiAgICAgICAgICAgIHBhZGRpbmc6IDRweCAwOwogICAgICAgICAgICBmb250LWZhbWlseTogbW9ub3NwYWNlOwogICAgICAgIGA7CgogIGhlYWRlci5hcHBlbmRDaGlsZCh0aXRsZSk7CiAgaGVhZGVyLmFwcGVuZENoaWxkKHRvZ2dsZUJ1dHRvbik7CiAgY29udGVudC5hcHBlbmRDaGlsZChzdGF0dXMpOwogIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaW5zdHJ1Y3Rpb25zKTsKICBjb250ZW50LmFwcGVuZENoaWxkKGJ1dHRvbkRpc3BsYXkpOwogIGNvbnRlbnQuYXBwZW5kQ2hpbGQoZHBhZERpc3BsYXkpOwogIGNvbnRlbnQuYXBwZW5kQ2hpbGQoYXhlc0Rpc3BsYXkpOwogIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGltZXN0YW1wRGlzcGxheSk7CiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRlbnQpOwogIGVsLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7CgogIHRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIGlzTWluaW1pemVkID0gIWlzTWluaW1pemVkOwogICAgaWYgKGlzTWluaW1pemVkKSB7CiAgICAgIGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgY29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAiMTZweCI7CiAgICAgIHRvZ2dsZUJ1dHRvbi50ZXh0Q29udGVudCA9ICIrIjsKICAgICAgaGVhZGVyLnN0eWxlLmNzc1RleHQgPQogICAgICAgICJwb3NpdGlvbjogcmVsYXRpdmU7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyI7CiAgICB9IGVsc2UgewogICAgICBjb250ZW50LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICBjb250YWluZXIuc3R5bGUucGFkZGluZyA9ICIxNnB4IjsKICAgICAgdG9nZ2xlQnV0dG9uLnRleHRDb250ZW50ID0gIuKIkiI7CiAgICAgIGhlYWRlci5zdHlsZS5jc3NUZXh0ID0KICAgICAgICAicG9zaXRpb246IHJlbGF0aXZlOyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMTJweDsiOwogICAgfQogIH0pOwoKICBjb25zdCBmcmFtZXMgPQogICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOwogIGxldCBnYW1lcGFkQ29ubmVjdGVkID0gZmFsc2U7CiAgbGV0IGxhc3RHYW1lcGFkU3RhdGUgPSBudWxsOwoKICBmdW5jdGlvbiB1cGRhdGVTdGF0dXMoY29ubmVjdGVkLCBnYW1lcGFkID0gbnVsbCkgewogICAgaWYgKGNvbm5lY3RlZCkgewogICAgICBzdGF0dXMuc3R5bGUuY3NzVGV4dCArPQogICAgICAgICJiYWNrZ3JvdW5kOiAjZGNmY2U3OyBjb2xvcjogIzE2NjUzNDsgYm9yZGVyOiAxcHggc29saWQgI2JiZjdkMDsiOwogICAgICBzdGF0dXMudGV4dENvbnRlbnQgPSBg4pyFIEdhbWVwYWQgQ29ubmVjdGVkOiAke2dhbWVwYWQ/LmlkIHx8ICJVbmtub3duIn1gOwogICAgICBpbnN0cnVjdGlvbnMudGV4dENvbnRlbnQgPSBgUHJlc3MgYW55IGJ1dHRvbiBvbiB0aGUgZ2FtZXBhZCB0byBpbnRlcmFjdC5gOwogICAgICBnYW1lcGFkQ29ubmVjdGVkID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHN0YXR1cy5zdHlsZS5jc3NUZXh0ICs9CiAgICAgICAgImJhY2tncm91bmQ6ICNmZWYyZjI7IGNvbG9yOiAjZGMyNjI2OyBib3JkZXI6IDFweCBzb2xpZCAjZmVjYWNhOyI7CiAgICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICLinYwgTm8gR2FtZXBhZCBEZXRlY3RlZCI7CiAgICAgIGluc3RydWN0aW9ucy5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgVG8gY29ubmVjdCB5b3VyIGdhbWVwYWQ6PGJyPgogICAgICAgICAgICAgICAgICAgIDEuIENvbm5lY3QgeW91ciBnYW1lcGFkIHRvIHlvdXIgY29tcHV0ZXI8YnI+CiAgICAgICAgICAgICAgICAgICAgMi4gUHJlc3MgYW55IGJ1dHRvbiBvbiB0aGUgZ2FtZXBhZDxicj4KICAgICAgICAgICAgICAgICAgICAzLiBUaGUgd2lkZ2V0IHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3QgaXQKICAgICAgICAgICAgICAgIGA7CiAgICAgIGdhbWVwYWRDb25uZWN0ZWQgPSBmYWxzZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHVwZGF0ZUJ1dHRvbkRpc3BsYXkoKSB7CiAgICBpZiAoY3VycmVudEJ1dHRvblByZXNzID49IDApIHsKICAgICAgYnV0dG9uRGlzcGxheS50ZXh0Q29udGVudCA9IGBDdXJyZW50IGJ1dHRvbiBwcmVzczogJHtjdXJyZW50QnV0dG9uUHJlc3N9YDsKICAgIH0gZWxzZSB7CiAgICAgIGJ1dHRvbkRpc3BsYXkudGV4dENvbnRlbnQgPSAiTm8gYnV0dG9uIHByZXNzZWQgeWV0IjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHVwZGF0ZURwYWREaXNwbGF5KCkgewogICAgY29uc3QgZGlyZWN0aW9ucyA9IFtdOwogICAgaWYgKGRwYWRVcCkgZGlyZWN0aW9ucy5wdXNoKCLihpEiKTsKICAgIGlmIChkcGFkRG93bikgZGlyZWN0aW9ucy5wdXNoKCLihpMiKTsKICAgIGlmIChkcGFkTGVmdCkgZGlyZWN0aW9ucy5wdXNoKCLihpAiKTsKICAgIGlmIChkcGFkUmlnaHQpIGRpcmVjdGlvbnMucHVzaCgi4oaSIik7CgogICAgZHBhZERpc3BsYXkudGV4dENvbnRlbnQgPQogICAgICBkaXJlY3Rpb25zLmxlbmd0aCA+IDAKICAgICAgICA/IGBELXBhZDogJHtkaXJlY3Rpb25zLmpvaW4oIiAiKX1gCiAgICAgICAgOiAiRC1wYWQ6IOKAlCI7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVBeGVzRGlzcGxheSgpIHsKICAgIGlmIChheGVzICYmIGF4ZXMubGVuZ3RoID49IDQpIHsKICAgICAgY29uc3QgW2xlZnRYLCBsZWZ0WSwgcmlnaHRYLCByaWdodFldID0gYXhlczsKICAgICAgYXhlc0Rpc3BsYXkuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgIExlZnQgc3RpY2s6ICgke2xlZnRYLnRvRml4ZWQoMil9LCAke2xlZnRZLnRvRml4ZWQoMil9KTxicj4KICAgICAgICAgICAgICAgICAgICBSaWdodCBzdGljazogKCR7cmlnaHRYLnRvRml4ZWQoMil9LCAke3JpZ2h0WS50b0ZpeGVkKDIpfSkKICAgICAgICAgICAgICAgIGA7CiAgICB9IGVsc2UgewogICAgICBheGVzRGlzcGxheS50ZXh0Q29udGVudCA9ICJTdGlja3M6IE5vIGRhdGEiOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdXBkYXRlVGltZXN0YW1wRGlzcGxheSgpIHsKICAgIGlmIChjdXJyZW50VGltZXN0YW1wID4gMCkgewogICAgICBjb25zdCBjdXJyZW50ID0gbmV3IERhdGUoY3VycmVudFRpbWVzdGFtcCkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7CiAgICAgIGNvbnN0IHByZXZpb3VzID0KICAgICAgICBwcmV2aW91c1RpbWVzdGFtcCA+IDAKICAgICAgICAgID8gbmV3IERhdGUocHJldmlvdXNUaW1lc3RhbXApLnRvTG9jYWxlVGltZVN0cmluZygpCiAgICAgICAgICA6ICJOb25lIjsKICAgICAgY29uc3QgdGltZURpZmYgPQogICAgICAgIHByZXZpb3VzVGltZXN0YW1wID4gMAogICAgICAgICAgPyAoKGN1cnJlbnRUaW1lc3RhbXAgLSBwcmV2aW91c1RpbWVzdGFtcCkgLyAxMDAwKS50b0ZpeGVkKDMpCiAgICAgICAgICA6ICJOL0EiOwogICAgICB0aW1lc3RhbXBEaXNwbGF5LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICBDdXJyZW50OiAke2N1cnJlbnR9PGJyPgogICAgICAgICAgICAgICAgICAgIFByZXZpb3VzOiAke3ByZXZpb3VzfTxicj4KICAgICAgICAgICAgICAgICAgICBUaW1lIGRpZmY6ICR7dGltZURpZmZ9cwogICAgICAgICAgICAgICAgYDsKICAgIH0gZWxzZSB7CiAgICAgIHRpbWVzdGFtcERpc3BsYXkudGV4dENvbnRlbnQgPSAiTm8gYnV0dG9uIHByZXNzZXMgcmVjb3JkZWQiOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY2hlY2tHYW1lcGFkQ29ubmVjdGlvbigpIHsKICAgIGNvbnN0IGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7CiAgICBjb25zdCBnYW1lcGFkID0gZ2FtZXBhZHNbMF0gfHwgZ2FtZXBhZHNbMV0gfHwgZ2FtZXBhZHNbMl0gfHwgZ2FtZXBhZHNbM107CgogICAgaWYgKGdhbWVwYWQgJiYgZ2FtZXBhZC5jb25uZWN0ZWQpIHsKICAgICAgaWYgKCFnYW1lcGFkQ29ubmVjdGVkKSB7CiAgICAgICAgdXBkYXRlU3RhdHVzKHRydWUsIGdhbWVwYWQpOwogICAgICB9CiAgICAgIHJldHVybiBnYW1lcGFkOwogICAgfSBlbHNlIHsKICAgICAgaWYgKGdhbWVwYWRDb25uZWN0ZWQpIHsKICAgICAgICB1cGRhdGVTdGF0dXMoZmFsc2UpOwogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcnVuX2xvb3AoKSB7CiAgICBjb25zdCBnYW1lcGFkID0gY2hlY2tHYW1lcGFkQ29ubmVjdGlvbigpOwoKICAgIGlmIChnYW1lcGFkICYmIGdhbWVwYWRDb25uZWN0ZWQpIHsKICAgICAgbGV0IGJ1dHRvblByZXNzZWQgPSBmYWxzZTsKICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gZ2FtZXBhZC5idXR0b25zLm1hcCgoYikgPT4gYi5wcmVzc2VkKS5qb2luKCIiKTsKCiAgICAgIGlmIChjdXJyZW50U3RhdGUgIT09IGxhc3RHYW1lcGFkU3RhdGUpIHsKICAgICAgICBnYW1lcGFkLmJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uLCBpKSA9PiB7CiAgICAgICAgICBpZiAoYnV0dG9uLnByZXNzZWQpIHsKICAgICAgICAgICAgcHJldmlvdXNUaW1lc3RhbXAgPSBjdXJyZW50VGltZXN0YW1wOwogICAgICAgICAgICBjdXJyZW50VGltZXN0YW1wID0gRGF0ZS5ub3coKTsKICAgICAgICAgICAgY3VycmVudEJ1dHRvblByZXNzID0gaTsKCiAgICAgICAgICAgIG1vZGVsLnNldCgiY3VycmVudF9idXR0b25fcHJlc3MiLCBjdXJyZW50QnV0dG9uUHJlc3MpOwogICAgICAgICAgICBtb2RlbC5zZXQoImN1cnJlbnRfdGltZXN0YW1wIiwgY3VycmVudFRpbWVzdGFtcCk7CiAgICAgICAgICAgIG1vZGVsLnNldCgicHJldmlvdXNfdGltZXN0YW1wIiwgcHJldmlvdXNUaW1lc3RhbXApOwogICAgICAgICAgICBtb2RlbC5zYXZlX2NoYW5nZXMoKTsKCiAgICAgICAgICAgIHVwZGF0ZUJ1dHRvbkRpc3BsYXkoKTsKICAgICAgICAgICAgdXBkYXRlVGltZXN0YW1wRGlzcGxheSgpOwogICAgICAgICAgICBidXR0b25QcmVzc2VkID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKGdhbWVwYWQuYXhlcyAmJiBnYW1lcGFkLmF4ZXMubGVuZ3RoID49IDQpIHsKICAgICAgICBjb25zdCBuZXdBeGVzID0gWwogICAgICAgICAgTWF0aC5yb3VuZCgoZ2FtZXBhZC5heGVzWzBdIHx8IDApICogMTAwKSAvIDEwMCwKICAgICAgICAgIE1hdGgucm91bmQoKGdhbWVwYWQuYXhlc1sxXSB8fCAwKSAqIDEwMCkgLyAxMDAsCiAgICAgICAgICBNYXRoLnJvdW5kKChnYW1lcGFkLmF4ZXNbMl0gfHwgMCkgKiAxMDApIC8gMTAwLAogICAgICAgICAgTWF0aC5yb3VuZCgoZ2FtZXBhZC5heGVzWzNdIHx8IDApICogMTAwKSAvIDEwMCwKICAgICAgICBdOwoKICAgICAgICBjb25zdCB0aHJlc2hvbGQgPSAwLjA1OwogICAgICAgIGxldCBheGVzQ2hhbmdlZCA9IGZhbHNlOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICBpZiAoTWF0aC5hYnMobmV3QXhlc1tpXSAtIGF4ZXNbaV0pID4gdGhyZXNob2xkKSB7CiAgICAgICAgICAgIGF4ZXNDaGFuZ2VkID0gdHJ1ZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoYXhlc0NoYW5nZWQpIHsKICAgICAgICAgIGF4ZXMgPSBuZXdBeGVzOwogICAgICAgICAgbW9kZWwuc2V0KCJheGVzIiwgYXhlcyk7CiAgICAgICAgICBtb2RlbC5zYXZlX2NoYW5nZXMoKTsKICAgICAgICAgIHVwZGF0ZUF4ZXNEaXNwbGF5KCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zdCBuZXdEcGFkVXAgPSBnYW1lcGFkLmJ1dHRvbnNbMTJdCiAgICAgICAgPyBnYW1lcGFkLmJ1dHRvbnNbMTJdLnByZXNzZWQKICAgICAgICA6IGZhbHNlOwogICAgICBjb25zdCBuZXdEcGFkRG93biA9IGdhbWVwYWQuYnV0dG9uc1sxM10KICAgICAgICA/IGdhbWVwYWQuYnV0dG9uc1sxM10ucHJlc3NlZAogICAgICAgIDogZmFsc2U7CiAgICAgIGNvbnN0IG5ld0RwYWRMZWZ0ID0gZ2FtZXBhZC5idXR0b25zWzE0XQogICAgICAgID8gZ2FtZXBhZC5idXR0b25zWzE0XS5wcmVzc2VkCiAgICAgICAgOiBmYWxzZTsKICAgICAgY29uc3QgbmV3RHBhZFJpZ2h0ID0gZ2FtZXBhZC5idXR0b25zWzE1XQogICAgICAgID8gZ2FtZXBhZC5idXR0b25zWzE1XS5wcmVzc2VkCiAgICAgICAgOiBmYWxzZTsKCiAgICAgIGlmICgKICAgICAgICBuZXdEcGFkVXAgIT09IGRwYWRVcCB8fAogICAgICAgIG5ld0RwYWREb3duICE9PSBkcGFkRG93biB8fAogICAgICAgIG5ld0RwYWRMZWZ0ICE9PSBkcGFkTGVmdCB8fAogICAgICAgIG5ld0RwYWRSaWdodCAhPT0gZHBhZFJpZ2h0CiAgICAgICkgewogICAgICAgIGRwYWRVcCA9IG5ld0RwYWRVcDsKICAgICAgICBkcGFkRG93biA9IG5ld0RwYWREb3duOwogICAgICAgIGRwYWRMZWZ0ID0gbmV3RHBhZExlZnQ7CiAgICAgICAgZHBhZFJpZ2h0ID0gbmV3RHBhZFJpZ2h0OwoKICAgICAgICBtb2RlbC5zZXQoImRwYWRfdXAiLCBkcGFkVXApOwogICAgICAgIG1vZGVsLnNldCgiZHBhZF9kb3duIiwgZHBhZERvd24pOwogICAgICAgIG1vZGVsLnNldCgiZHBhZF9sZWZ0IiwgZHBhZExlZnQpOwogICAgICAgIG1vZGVsLnNldCgiZHBhZF9yaWdodCIsIGRwYWRSaWdodCk7CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICAgICAgdXBkYXRlRHBhZERpc3BsYXkoKTsKICAgICAgfQoKICAgICAgbGFzdEdhbWVwYWRTdGF0ZSA9IGN1cnJlbnRTdGF0ZTsKICAgICAgc2V0VGltZW91dCgoKSA9PiBmcmFtZXMocnVuX2xvb3ApLCBidXR0b25QcmVzc2VkID8gMjAwIDogNTApOwogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCgoKSA9PiBmcmFtZXMocnVuX2xvb3ApLCAxMDApOwogICAgfQogIH0KCiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImdhbWVwYWRjb25uZWN0ZWQiLCAoZSkgPT4gewogICAgdXBkYXRlU3RhdHVzKHRydWUsIGUuZ2FtZXBhZCk7CiAgfSk7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJnYW1lcGFkZGlzY29ubmVjdGVkIiwgKCkgPT4gewogICAgdXBkYXRlU3RhdHVzKGZhbHNlKTsKICB9KTsKCiAgdXBkYXRlU3RhdHVzKGZhbHNlKTsKICB1cGRhdGVCdXR0b25EaXNwbGF5KCk7CiAgdXBkYXRlRHBhZERpc3BsYXkoKTsKICB1cGRhdGVBeGVzRGlzcGxheSgpOwogIHVwZGF0ZVRpbWVzdGFtcERpc3BsYXkoKTsKCiAgbW9kZWwub24oImNoYW5nZTpjdXJyZW50X2J1dHRvbl9wcmVzcyIsICgpID0+IHsKICAgIGN1cnJlbnRCdXR0b25QcmVzcyA9IG1vZGVsLmdldCgiY3VycmVudF9idXR0b25fcHJlc3MiKTsKICAgIHVwZGF0ZUJ1dHRvbkRpc3BsYXkoKTsKICB9KTsKCiAgbW9kZWwub24oImNoYW5nZTpjdXJyZW50X3RpbWVzdGFtcCIsICgpID0+IHsKICAgIGN1cnJlbnRUaW1lc3RhbXAgPSBtb2RlbC5nZXQoImN1cnJlbnRfdGltZXN0YW1wIik7CiAgICB1cGRhdGVUaW1lc3RhbXBEaXNwbGF5KCk7CiAgfSk7CgogIG1vZGVsLm9uKCJjaGFuZ2U6cHJldmlvdXNfdGltZXN0YW1wIiwgKCkgPT4gewogICAgcHJldmlvdXNUaW1lc3RhbXAgPSBtb2RlbC5nZXQoInByZXZpb3VzX3RpbWVzdGFtcCIpOwogICAgdXBkYXRlVGltZXN0YW1wRGlzcGxheSgpOwogIH0pOwoKICBtb2RlbC5vbigiY2hhbmdlOmF4ZXMiLCAoKSA9PiB7CiAgICBheGVzID0gbW9kZWwuZ2V0KCJheGVzIik7CiAgICB1cGRhdGVBeGVzRGlzcGxheSgpOwogIH0pOwoKICBtb2RlbC5vbigKICAgICJjaGFuZ2U6ZHBhZF91cCBjaGFuZ2U6ZHBhZF9kb3duIGNoYW5nZTpkcGFkX2xlZnQgY2hhbmdlOmRwYWRfcmlnaHQiLAogICAgKCkgPT4gewogICAgICBkcGFkVXAgPSBtb2RlbC5nZXQoImRwYWRfdXAiKTsKICAgICAgZHBhZERvd24gPSBtb2RlbC5nZXQoImRwYWRfZG93biIpOwogICAgICBkcGFkTGVmdCA9IG1vZGVsLmdldCgiZHBhZF9sZWZ0Iik7CiAgICAgIGRwYWRSaWdodCA9IG1vZGVsLmdldCgiZHBhZF9yaWdodCIpOwogICAgICB1cGRhdGVEcGFkRGlzcGxheSgpOwogICAgfSwKICApOwoKICBydW5fbG9vcCgpOwp9CgpleHBvcnQgZGVmYXVsdCB7IHJlbmRlciB9Owo=&quot;' data-js-hash='&quot;6e33b78e026287fe19176be8d5253dfb&quot;'></marimo-anywidget></marimo-ui-element>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "bkHC",
      "code_hash": "c17ff239572df22817098aa26563c2e2",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert contents\"><span class=\"paragraph\"><strong>Last button:</strong> <code>\u2014</code> &nbsp;&nbsp;|&nbsp;&nbsp; <strong>Last change (ms):</strong> <code>\u2014</code> &nbsp;&nbsp;|&nbsp;&nbsp; <strong>Previous:</strong> <code>\u2014</code></span></span><span class=\"markdown prose dark:prose-invert contents\"><span class=\"paragraph\"><strong>Sticks</strong> &nbsp; Left: <code>(0.0, 0.0)</code> &nbsp; Right: <code>(0.0, 0.0)</code></span></span><span class=\"markdown prose dark:prose-invert contents\"><span class=\"paragraph\"><strong>D-pad:</strong> <code>\u2014</code> (tap the arrows)</span></span></div>"
          }
        }
      ],
      "console": []
    }
  ]
}