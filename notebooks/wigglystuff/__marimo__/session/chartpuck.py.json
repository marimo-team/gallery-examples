{
  "version": "1",
  "metadata": {
    "marimo_version": "0.19.11"
  },
  "cells": [
    {
      "id": "setup",
      "code_hash": "e7b699e9806abb5a3fc31f6db2316483",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "Hbol",
      "code_hash": "9e5acf79c96356d4e46284f17bf6413c",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"single-puck\">Single Puck</h2></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "MJUe",
      "code_hash": "25071fbbc0d2e51f91e183342104f6de",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "vblA",
      "code_hash": "ba394491e6836356e0e0c192b230fc7f",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "bkHC",
      "code_hash": "9d2b1ad5bbc16c44d49116dc213c53f2",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='vblA-0' random-id='9a092b3e-bdf8-5884-cc83-19101887192a'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;ed023401f388467bb720b232f98dde04&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHsgbW9kZWwsIGVsIH0pIHsKICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiOwogIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CgogIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwogIGNhbnZhcy53aWR0aCA9IG1vZGVsLmdldCgid2lkdGgiKTsKICBjYW52YXMuaGVpZ2h0ID0gbW9kZWwuZ2V0KCJoZWlnaHQiKTsKICBjYW52YXMuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgY2FudmFzLnN0eWxlLmN1cnNvciA9ICJjcm9zc2hhaXIiOwoKICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTsKICBlbC5hcHBlbmRDaGlsZChjb250YWluZXIpOwoKICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICBjb25zdCBjaGFydEltYWdlID0gbmV3IEltYWdlKCk7CiAgbGV0IGltYWdlTG9hZGVkID0gZmFsc2U7CiAgbGV0IGlzRHJhZ2dpbmcgPSBmYWxzZTsKICBsZXQgZHJhZ0luZGV4ID0gLTE7IC8vIFdoaWNoIHB1Y2sgaXMgYmVpbmcgZHJhZ2dlZAoKICBmdW5jdGlvbiBwaXhlbFRvRGF0YShwaXhlbFgsIHBpeGVsWSkgewogICAgY29uc3QgW3hNaW4sIHhNYXhdID0gbW9kZWwuZ2V0KCJ4X2JvdW5kcyIpOwogICAgY29uc3QgW3lNaW4sIHlNYXhdID0gbW9kZWwuZ2V0KCJ5X2JvdW5kcyIpOwogICAgY29uc3QgW2xlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbV0gPSBtb2RlbC5nZXQoImF4ZXNfcGl4ZWxfYm91bmRzIik7CgogICAgLy8gQ2xhbXAgdG8gYXhlcyBhcmVhCiAgICBwaXhlbFggPSBNYXRoLm1heChsZWZ0LCBNYXRoLm1pbihyaWdodCwgcGl4ZWxYKSk7CiAgICBwaXhlbFkgPSBNYXRoLm1heCh0b3AsIE1hdGgubWluKGJvdHRvbSwgcGl4ZWxZKSk7CgogICAgLy8gTWFwIChZIGludmVydGVkIGJlY2F1c2UgY2FudmFzIFkgZ29lcyBkb3duLCBkYXRhIFkgZ29lcyB1cCkKICAgIGxldCBkYXRhWCA9IHhNaW4gKyAoKHBpeGVsWCAtIGxlZnQpIC8gKHJpZ2h0IC0gbGVmdCkpICogKHhNYXggLSB4TWluKTsKICAgIGxldCBkYXRhWSA9IHlNaW4gKyAoKGJvdHRvbSAtIHBpeGVsWSkgLyAoYm90dG9tIC0gdG9wKSkgKiAoeU1heCAtIHlNaW4pOwoKICAgIC8vIEFwcGx5IG9wdGlvbmFsIGRyYWcgY29uc3RyYWludHMgaW4gZGF0YSBzcGFjZQogICAgY29uc3QgZHJhZ1hCb3VuZHMgPSBtb2RlbC5nZXQoImRyYWdfeF9ib3VuZHMiKTsKICAgIGNvbnN0IGRyYWdZQm91bmRzID0gbW9kZWwuZ2V0KCJkcmFnX3lfYm91bmRzIik7CgogICAgaWYgKGRyYWdYQm91bmRzKSB7CiAgICAgIGRhdGFYID0gTWF0aC5tYXgoZHJhZ1hCb3VuZHNbMF0sIE1hdGgubWluKGRyYWdYQm91bmRzWzFdLCBkYXRhWCkpOwogICAgfQogICAgaWYgKGRyYWdZQm91bmRzKSB7CiAgICAgIGRhdGFZID0gTWF0aC5tYXgoZHJhZ1lCb3VuZHNbMF0sIE1hdGgubWluKGRyYWdZQm91bmRzWzFdLCBkYXRhWSkpOwogICAgfQoKICAgIHJldHVybiB7IHg6IGRhdGFYLCB5OiBkYXRhWSB9OwogIH0KCiAgZnVuY3Rpb24gZGF0YVRvUGl4ZWwoZGF0YVgsIGRhdGFZKSB7CiAgICBjb25zdCBbeE1pbiwgeE1heF0gPSBtb2RlbC5nZXQoInhfYm91bmRzIik7CiAgICBjb25zdCBbeU1pbiwgeU1heF0gPSBtb2RlbC5nZXQoInlfYm91bmRzIik7CiAgICBjb25zdCBbbGVmdCwgdG9wLCByaWdodCwgYm90dG9tXSA9IG1vZGVsLmdldCgiYXhlc19waXhlbF9ib3VuZHMiKTsKCiAgICBjb25zdCBwaXhlbFggPSBsZWZ0ICsgKChkYXRhWCAtIHhNaW4pIC8gKHhNYXggLSB4TWluKSkgKiAocmlnaHQgLSBsZWZ0KTsKICAgIGNvbnN0IHBpeGVsWSA9IGJvdHRvbSAtICgoZGF0YVkgLSB5TWluKSAvICh5TWF4IC0geU1pbikpICogKGJvdHRvbSAtIHRvcCk7CiAgICByZXR1cm4geyB4OiBwaXhlbFgsIHk6IHBpeGVsWSB9OwogIH0KCiAgZnVuY3Rpb24gZHJhd1B1Y2socGl4ZWxYLCBwaXhlbFksIHJhZGl1cywgY29sb3IpIHsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGN0eC5hcmMocGl4ZWxYLCBwaXhlbFksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpOwogICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yOwogICAgY3R4LmZpbGwoKTsKCiAgICAvLyBEcmF3IHdoaXRlIGJvcmRlciBmb3IgdmlzaWJpbGl0eQogICAgY3R4LnN0cm9rZVN0eWxlID0gIndoaXRlIjsKICAgIGN0eC5saW5lV2lkdGggPSAyOwogICAgY3R4LnN0cm9rZSgpOwoKICAgIC8vIERyYXcgb3V0ZXIgYmxhY2sgYm9yZGVyCiAgICBjdHguc3Ryb2tlU3R5bGUgPSAicmdiYSgwLCAwLCAwLCAwLjMpIjsKICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgY3R4LnN0cm9rZSgpOwogIH0KCiAgZnVuY3Rpb24gZHJhdygpIHsKICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKCiAgICAvLyBEcmF3IGNoYXJ0IGltYWdlIGFzIGJhY2tncm91bmQKICAgIGlmIChpbWFnZUxvYWRlZCkgewogICAgICBjdHguZHJhd0ltYWdlKGNoYXJ0SW1hZ2UsIDAsIDApOwogICAgfQoKICAgIC8vIERyYXcgYWxsIHB1Y2tzCiAgICBjb25zdCB4cyA9IG1vZGVsLmdldCgieCIpOwogICAgY29uc3QgeXMgPSBtb2RlbC5nZXQoInkiKTsKICAgIGNvbnN0IHJhZGl1cyA9IG1vZGVsLmdldCgicHVja19yYWRpdXMiKTsKICAgIGNvbnN0IGNvbG9yID0gbW9kZWwuZ2V0KCJwdWNrX2NvbG9yIik7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBwdWNrUG9zID0gZGF0YVRvUGl4ZWwoeHNbaV0sIHlzW2ldKTsKICAgICAgZHJhd1B1Y2socHVja1Bvcy54LCBwdWNrUG9zLnksIHJhZGl1cywgY29sb3IpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZ2V0Q2FudmFzQ29vcmRzKGV2ZW50KSB7CiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgcmV0dXJuIHsKICAgICAgeDogZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCwKICAgICAgeTogZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wLAogICAgfTsKICB9CgogIGZ1bmN0aW9uIGZpbmRDbG9zZXN0UHVjayhwaXhlbFgsIHBpeGVsWSkgewogICAgY29uc3QgeHMgPSBtb2RlbC5nZXQoIngiKTsKICAgIGNvbnN0IHlzID0gbW9kZWwuZ2V0KCJ5Iik7CiAgICBsZXQgY2xvc2VzdEluZGV4ID0gMDsKICAgIGxldCBjbG9zZXN0RGlzdCA9IEluZmluaXR5OwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgcHVja1BvcyA9IGRhdGFUb1BpeGVsKHhzW2ldLCB5c1tpXSk7CiAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmh5cG90KHB1Y2tQb3MueCAtIHBpeGVsWCwgcHVja1Bvcy55IC0gcGl4ZWxZKTsKICAgICAgaWYgKGRpc3QgPCBjbG9zZXN0RGlzdCkgewogICAgICAgIGNsb3Nlc3REaXN0ID0gZGlzdDsKICAgICAgICBjbG9zZXN0SW5kZXggPSBpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGNsb3Nlc3RJbmRleDsKICB9CgogIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0KGV2ZW50KSB7CiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgIGxldCBjb29yZHM7CiAgICBpZiAoZXZlbnQudG91Y2hlcykgewogICAgICBjb29yZHMgPSB7CiAgICAgICAgeDogZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQsCiAgICAgICAgeTogZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIC0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCwKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIGNvb3JkcyA9IGdldENhbnZhc0Nvb3JkcyhldmVudCk7CiAgICB9CgogICAgZHJhZ0luZGV4ID0gZmluZENsb3Nlc3RQdWNrKGNvb3Jkcy54LCBjb29yZHMueSk7CiAgICBpc0RyYWdnaW5nID0gdHJ1ZTsKICAgIGhhbmRsZU1vdmUoZXZlbnQpOwogIH0KCiAgZnVuY3Rpb24gaGFuZGxlTW92ZShldmVudCkgewogICAgaWYgKCFpc0RyYWdnaW5nIHx8IGRyYWdJbmRleCA8IDApIHJldHVybjsKICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgbGV0IGNvb3JkczsKICAgIGlmIChldmVudC50b3VjaGVzKSB7CiAgICAgIGNvb3JkcyA9IHsKICAgICAgICB4OiBldmVudC50b3VjaGVzWzBdLmNsaWVudFggLSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCwKICAgICAgICB5OiBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgLSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLAogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgY29vcmRzID0gZ2V0Q2FudmFzQ29vcmRzKGV2ZW50KTsKICAgIH0KCiAgICBjb25zdCBkYXRhID0gcGl4ZWxUb0RhdGEoY29vcmRzLngsIGNvb3Jkcy55KTsKCiAgICAvLyBVcGRhdGUgdGhlIGRyYWdnZWQgcHVjaydzIHBvc2l0aW9uCiAgICBjb25zdCB4cyA9IFsuLi5tb2RlbC5nZXQoIngiKV07CiAgICBjb25zdCB5cyA9IFsuLi5tb2RlbC5nZXQoInkiKV07CiAgICB4c1tkcmFnSW5kZXhdID0gZGF0YS54OwogICAgeXNbZHJhZ0luZGV4XSA9IGRhdGEueTsKCiAgICBtb2RlbC5zZXQoIngiLCB4cyk7CiAgICBtb2RlbC5zZXQoInkiLCB5cyk7CiAgICBtb2RlbC5zYXZlX2NoYW5nZXMoKTsKICAgIGRyYXcoKTsKICB9CgogIGZ1bmN0aW9uIGhhbmRsZUVuZCgpIHsKICAgIGlzRHJhZ2dpbmcgPSBmYWxzZTsKICAgIGRyYWdJbmRleCA9IC0xOwogIH0KCiAgLy8gTW91c2UgZXZlbnRzCiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGhhbmRsZVN0YXJ0KTsKICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgaGFuZGxlTW92ZSk7CiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIGhhbmRsZUVuZCk7CgogIC8vIFRvdWNoIGV2ZW50cwogIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgaGFuZGxlU3RhcnQpOwogIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCBoYW5kbGVNb3ZlKTsKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsIGhhbmRsZUVuZCk7CgogIC8vIExvYWQgY2hhcnQgaW1hZ2UKICBjaGFydEltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIGltYWdlTG9hZGVkID0gdHJ1ZTsKICAgIGRyYXcoKTsKICB9OwogIGNoYXJ0SW1hZ2Uuc3JjID0gbW9kZWwuZ2V0KCJjaGFydF9iYXNlNjQiKTsKCiAgLy8gU3luYyBmcm9tIG1vZGVsIGNoYW5nZXMKICBtb2RlbC5vbigiY2hhbmdlOngiLCBkcmF3KTsKICBtb2RlbC5vbigiY2hhbmdlOnkiLCBkcmF3KTsKICBtb2RlbC5vbigiY2hhbmdlOnB1Y2tfcmFkaXVzIiwgZHJhdyk7CiAgbW9kZWwub24oImNoYW5nZTpwdWNrX2NvbG9yIiwgZHJhdyk7CiAgbW9kZWwub24oImNoYW5nZTpjaGFydF9iYXNlNjQiLCBmdW5jdGlvbiAoKSB7CiAgICBjaGFydEltYWdlLnNyYyA9IG1vZGVsLmdldCgiY2hhcnRfYmFzZTY0Iik7CiAgfSk7CgogIC8vIEluaXRpYWwgZHJhdwogIGRyYXcoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTsK&quot;' data-js-hash='&quot;9f2dbf3ba16b4ddd1af4f7c1f87020bf&quot;'></marimo-anywidget></marimo-ui-element>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "lEQa",
      "code_hash": "2755cfbbba994fab5856c5e3c155a75d",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-callout-output data-html='&quot;&lt;span&gt;Selected position: x = 0.000, y = 0.000&lt;/span&gt;&quot;' data-kind='&quot;neutral&quot;'></marimo-callout-output>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "PKri",
      "code_hash": "254890e1d43329c0d652951cedad5ffd",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"multiple-pucks\">Multiple Pucks</h2></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "Xref",
      "code_hash": "8088c54e5fbe6fb70976c72d550be5ed",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "SFPL",
      "code_hash": "704542bf5959d8c76917241d9a7a897e",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "BYtC",
      "code_hash": "bdd26e11cc1f341d4cc9bbd012a59bb6",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='SFPL-0' random-id='c7f808d4-fab2-e914-5a9e-6a69f174f229'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;b592ceaeab7a41f19beb2f9da9d13c4e&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHsgbW9kZWwsIGVsIH0pIHsKICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiOwogIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CgogIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwogIGNhbnZhcy53aWR0aCA9IG1vZGVsLmdldCgid2lkdGgiKTsKICBjYW52YXMuaGVpZ2h0ID0gbW9kZWwuZ2V0KCJoZWlnaHQiKTsKICBjYW52YXMuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgY2FudmFzLnN0eWxlLmN1cnNvciA9ICJjcm9zc2hhaXIiOwoKICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTsKICBlbC5hcHBlbmRDaGlsZChjb250YWluZXIpOwoKICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICBjb25zdCBjaGFydEltYWdlID0gbmV3IEltYWdlKCk7CiAgbGV0IGltYWdlTG9hZGVkID0gZmFsc2U7CiAgbGV0IGlzRHJhZ2dpbmcgPSBmYWxzZTsKICBsZXQgZHJhZ0luZGV4ID0gLTE7IC8vIFdoaWNoIHB1Y2sgaXMgYmVpbmcgZHJhZ2dlZAoKICBmdW5jdGlvbiBwaXhlbFRvRGF0YShwaXhlbFgsIHBpeGVsWSkgewogICAgY29uc3QgW3hNaW4sIHhNYXhdID0gbW9kZWwuZ2V0KCJ4X2JvdW5kcyIpOwogICAgY29uc3QgW3lNaW4sIHlNYXhdID0gbW9kZWwuZ2V0KCJ5X2JvdW5kcyIpOwogICAgY29uc3QgW2xlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbV0gPSBtb2RlbC5nZXQoImF4ZXNfcGl4ZWxfYm91bmRzIik7CgogICAgLy8gQ2xhbXAgdG8gYXhlcyBhcmVhCiAgICBwaXhlbFggPSBNYXRoLm1heChsZWZ0LCBNYXRoLm1pbihyaWdodCwgcGl4ZWxYKSk7CiAgICBwaXhlbFkgPSBNYXRoLm1heCh0b3AsIE1hdGgubWluKGJvdHRvbSwgcGl4ZWxZKSk7CgogICAgLy8gTWFwIChZIGludmVydGVkIGJlY2F1c2UgY2FudmFzIFkgZ29lcyBkb3duLCBkYXRhIFkgZ29lcyB1cCkKICAgIGxldCBkYXRhWCA9IHhNaW4gKyAoKHBpeGVsWCAtIGxlZnQpIC8gKHJpZ2h0IC0gbGVmdCkpICogKHhNYXggLSB4TWluKTsKICAgIGxldCBkYXRhWSA9IHlNaW4gKyAoKGJvdHRvbSAtIHBpeGVsWSkgLyAoYm90dG9tIC0gdG9wKSkgKiAoeU1heCAtIHlNaW4pOwoKICAgIC8vIEFwcGx5IG9wdGlvbmFsIGRyYWcgY29uc3RyYWludHMgaW4gZGF0YSBzcGFjZQogICAgY29uc3QgZHJhZ1hCb3VuZHMgPSBtb2RlbC5nZXQoImRyYWdfeF9ib3VuZHMiKTsKICAgIGNvbnN0IGRyYWdZQm91bmRzID0gbW9kZWwuZ2V0KCJkcmFnX3lfYm91bmRzIik7CgogICAgaWYgKGRyYWdYQm91bmRzKSB7CiAgICAgIGRhdGFYID0gTWF0aC5tYXgoZHJhZ1hCb3VuZHNbMF0sIE1hdGgubWluKGRyYWdYQm91bmRzWzFdLCBkYXRhWCkpOwogICAgfQogICAgaWYgKGRyYWdZQm91bmRzKSB7CiAgICAgIGRhdGFZID0gTWF0aC5tYXgoZHJhZ1lCb3VuZHNbMF0sIE1hdGgubWluKGRyYWdZQm91bmRzWzFdLCBkYXRhWSkpOwogICAgfQoKICAgIHJldHVybiB7IHg6IGRhdGFYLCB5OiBkYXRhWSB9OwogIH0KCiAgZnVuY3Rpb24gZGF0YVRvUGl4ZWwoZGF0YVgsIGRhdGFZKSB7CiAgICBjb25zdCBbeE1pbiwgeE1heF0gPSBtb2RlbC5nZXQoInhfYm91bmRzIik7CiAgICBjb25zdCBbeU1pbiwgeU1heF0gPSBtb2RlbC5nZXQoInlfYm91bmRzIik7CiAgICBjb25zdCBbbGVmdCwgdG9wLCByaWdodCwgYm90dG9tXSA9IG1vZGVsLmdldCgiYXhlc19waXhlbF9ib3VuZHMiKTsKCiAgICBjb25zdCBwaXhlbFggPSBsZWZ0ICsgKChkYXRhWCAtIHhNaW4pIC8gKHhNYXggLSB4TWluKSkgKiAocmlnaHQgLSBsZWZ0KTsKICAgIGNvbnN0IHBpeGVsWSA9IGJvdHRvbSAtICgoZGF0YVkgLSB5TWluKSAvICh5TWF4IC0geU1pbikpICogKGJvdHRvbSAtIHRvcCk7CiAgICByZXR1cm4geyB4OiBwaXhlbFgsIHk6IHBpeGVsWSB9OwogIH0KCiAgZnVuY3Rpb24gZHJhd1B1Y2socGl4ZWxYLCBwaXhlbFksIHJhZGl1cywgY29sb3IpIHsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGN0eC5hcmMocGl4ZWxYLCBwaXhlbFksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpOwogICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yOwogICAgY3R4LmZpbGwoKTsKCiAgICAvLyBEcmF3IHdoaXRlIGJvcmRlciBmb3IgdmlzaWJpbGl0eQogICAgY3R4LnN0cm9rZVN0eWxlID0gIndoaXRlIjsKICAgIGN0eC5saW5lV2lkdGggPSAyOwogICAgY3R4LnN0cm9rZSgpOwoKICAgIC8vIERyYXcgb3V0ZXIgYmxhY2sgYm9yZGVyCiAgICBjdHguc3Ryb2tlU3R5bGUgPSAicmdiYSgwLCAwLCAwLCAwLjMpIjsKICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgY3R4LnN0cm9rZSgpOwogIH0KCiAgZnVuY3Rpb24gZHJhdygpIHsKICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKCiAgICAvLyBEcmF3IGNoYXJ0IGltYWdlIGFzIGJhY2tncm91bmQKICAgIGlmIChpbWFnZUxvYWRlZCkgewogICAgICBjdHguZHJhd0ltYWdlKGNoYXJ0SW1hZ2UsIDAsIDApOwogICAgfQoKICAgIC8vIERyYXcgYWxsIHB1Y2tzCiAgICBjb25zdCB4cyA9IG1vZGVsLmdldCgieCIpOwogICAgY29uc3QgeXMgPSBtb2RlbC5nZXQoInkiKTsKICAgIGNvbnN0IHJhZGl1cyA9IG1vZGVsLmdldCgicHVja19yYWRpdXMiKTsKICAgIGNvbnN0IGNvbG9yID0gbW9kZWwuZ2V0KCJwdWNrX2NvbG9yIik7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBwdWNrUG9zID0gZGF0YVRvUGl4ZWwoeHNbaV0sIHlzW2ldKTsKICAgICAgZHJhd1B1Y2socHVja1Bvcy54LCBwdWNrUG9zLnksIHJhZGl1cywgY29sb3IpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZ2V0Q2FudmFzQ29vcmRzKGV2ZW50KSB7CiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgcmV0dXJuIHsKICAgICAgeDogZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCwKICAgICAgeTogZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wLAogICAgfTsKICB9CgogIGZ1bmN0aW9uIGZpbmRDbG9zZXN0UHVjayhwaXhlbFgsIHBpeGVsWSkgewogICAgY29uc3QgeHMgPSBtb2RlbC5nZXQoIngiKTsKICAgIGNvbnN0IHlzID0gbW9kZWwuZ2V0KCJ5Iik7CiAgICBsZXQgY2xvc2VzdEluZGV4ID0gMDsKICAgIGxldCBjbG9zZXN0RGlzdCA9IEluZmluaXR5OwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgcHVja1BvcyA9IGRhdGFUb1BpeGVsKHhzW2ldLCB5c1tpXSk7CiAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmh5cG90KHB1Y2tQb3MueCAtIHBpeGVsWCwgcHVja1Bvcy55IC0gcGl4ZWxZKTsKICAgICAgaWYgKGRpc3QgPCBjbG9zZXN0RGlzdCkgewogICAgICAgIGNsb3Nlc3REaXN0ID0gZGlzdDsKICAgICAgICBjbG9zZXN0SW5kZXggPSBpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGNsb3Nlc3RJbmRleDsKICB9CgogIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0KGV2ZW50KSB7CiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgIGxldCBjb29yZHM7CiAgICBpZiAoZXZlbnQudG91Y2hlcykgewogICAgICBjb29yZHMgPSB7CiAgICAgICAgeDogZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQsCiAgICAgICAgeTogZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIC0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCwKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIGNvb3JkcyA9IGdldENhbnZhc0Nvb3JkcyhldmVudCk7CiAgICB9CgogICAgZHJhZ0luZGV4ID0gZmluZENsb3Nlc3RQdWNrKGNvb3Jkcy54LCBjb29yZHMueSk7CiAgICBpc0RyYWdnaW5nID0gdHJ1ZTsKICAgIGhhbmRsZU1vdmUoZXZlbnQpOwogIH0KCiAgZnVuY3Rpb24gaGFuZGxlTW92ZShldmVudCkgewogICAgaWYgKCFpc0RyYWdnaW5nIHx8IGRyYWdJbmRleCA8IDApIHJldHVybjsKICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgbGV0IGNvb3JkczsKICAgIGlmIChldmVudC50b3VjaGVzKSB7CiAgICAgIGNvb3JkcyA9IHsKICAgICAgICB4OiBldmVudC50b3VjaGVzWzBdLmNsaWVudFggLSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCwKICAgICAgICB5OiBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgLSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLAogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgY29vcmRzID0gZ2V0Q2FudmFzQ29vcmRzKGV2ZW50KTsKICAgIH0KCiAgICBjb25zdCBkYXRhID0gcGl4ZWxUb0RhdGEoY29vcmRzLngsIGNvb3Jkcy55KTsKCiAgICAvLyBVcGRhdGUgdGhlIGRyYWdnZWQgcHVjaydzIHBvc2l0aW9uCiAgICBjb25zdCB4cyA9IFsuLi5tb2RlbC5nZXQoIngiKV07CiAgICBjb25zdCB5cyA9IFsuLi5tb2RlbC5nZXQoInkiKV07CiAgICB4c1tkcmFnSW5kZXhdID0gZGF0YS54OwogICAgeXNbZHJhZ0luZGV4XSA9IGRhdGEueTsKCiAgICBtb2RlbC5zZXQoIngiLCB4cyk7CiAgICBtb2RlbC5zZXQoInkiLCB5cyk7CiAgICBtb2RlbC5zYXZlX2NoYW5nZXMoKTsKICAgIGRyYXcoKTsKICB9CgogIGZ1bmN0aW9uIGhhbmRsZUVuZCgpIHsKICAgIGlzRHJhZ2dpbmcgPSBmYWxzZTsKICAgIGRyYWdJbmRleCA9IC0xOwogIH0KCiAgLy8gTW91c2UgZXZlbnRzCiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGhhbmRsZVN0YXJ0KTsKICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgaGFuZGxlTW92ZSk7CiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIGhhbmRsZUVuZCk7CgogIC8vIFRvdWNoIGV2ZW50cwogIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgaGFuZGxlU3RhcnQpOwogIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCBoYW5kbGVNb3ZlKTsKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsIGhhbmRsZUVuZCk7CgogIC8vIExvYWQgY2hhcnQgaW1hZ2UKICBjaGFydEltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIGltYWdlTG9hZGVkID0gdHJ1ZTsKICAgIGRyYXcoKTsKICB9OwogIGNoYXJ0SW1hZ2Uuc3JjID0gbW9kZWwuZ2V0KCJjaGFydF9iYXNlNjQiKTsKCiAgLy8gU3luYyBmcm9tIG1vZGVsIGNoYW5nZXMKICBtb2RlbC5vbigiY2hhbmdlOngiLCBkcmF3KTsKICBtb2RlbC5vbigiY2hhbmdlOnkiLCBkcmF3KTsKICBtb2RlbC5vbigiY2hhbmdlOnB1Y2tfcmFkaXVzIiwgZHJhdyk7CiAgbW9kZWwub24oImNoYW5nZTpwdWNrX2NvbG9yIiwgZHJhdyk7CiAgbW9kZWwub24oImNoYW5nZTpjaGFydF9iYXNlNjQiLCBmdW5jdGlvbiAoKSB7CiAgICBjaGFydEltYWdlLnNyYyA9IG1vZGVsLmdldCgiY2hhcnRfYmFzZTY0Iik7CiAgfSk7CgogIC8vIEluaXRpYWwgZHJhdwogIGRyYXcoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTsK&quot;' data-js-hash='&quot;9f2dbf3ba16b4ddd1af4f7c1f87020bf&quot;'></marimo-anywidget></marimo-ui-element>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "RGSE",
      "code_hash": "1c5bc1fd66ccd5768b21b718f9c3f108",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-callout-output data-html='&quot;&lt;span&gt;Puck 1: (-1.50, -1.50)&#92;nPuck 2: (0.00, 0.00)&#92;nPuck 3: (1.50, 1.50)&lt;/span&gt;&quot;' data-kind='&quot;neutral&quot;'></marimo-callout-output>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "Kclp",
      "code_hash": "3c7f036e87d86b775ea5bb5daf5ca5ec",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"dynamic-chart-updates\">Dynamic Chart Updates</h2></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "emfo",
      "code_hash": "6acbe07bfcbac20cd221ff2abd6b362c",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "Hstk",
      "code_hash": "b26be0e1e8fc87ff889dfa61fe37f0d4",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "nWHF",
      "code_hash": "baf52938e237442247a4c36d133c1489",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "iLit",
      "code_hash": "b8fd4c1cb31fe2036ea89700fe086e8d",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='nWHF-0' random-id='a16aae8a-6f08-2596-c888-8a239d79b071'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;1579163365174d94918815825506e630&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHsgbW9kZWwsIGVsIH0pIHsKICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiOwogIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CgogIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwogIGNhbnZhcy53aWR0aCA9IG1vZGVsLmdldCgid2lkdGgiKTsKICBjYW52YXMuaGVpZ2h0ID0gbW9kZWwuZ2V0KCJoZWlnaHQiKTsKICBjYW52YXMuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgY2FudmFzLnN0eWxlLmN1cnNvciA9ICJjcm9zc2hhaXIiOwoKICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTsKICBlbC5hcHBlbmRDaGlsZChjb250YWluZXIpOwoKICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICBjb25zdCBjaGFydEltYWdlID0gbmV3IEltYWdlKCk7CiAgbGV0IGltYWdlTG9hZGVkID0gZmFsc2U7CiAgbGV0IGlzRHJhZ2dpbmcgPSBmYWxzZTsKICBsZXQgZHJhZ0luZGV4ID0gLTE7IC8vIFdoaWNoIHB1Y2sgaXMgYmVpbmcgZHJhZ2dlZAoKICBmdW5jdGlvbiBwaXhlbFRvRGF0YShwaXhlbFgsIHBpeGVsWSkgewogICAgY29uc3QgW3hNaW4sIHhNYXhdID0gbW9kZWwuZ2V0KCJ4X2JvdW5kcyIpOwogICAgY29uc3QgW3lNaW4sIHlNYXhdID0gbW9kZWwuZ2V0KCJ5X2JvdW5kcyIpOwogICAgY29uc3QgW2xlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbV0gPSBtb2RlbC5nZXQoImF4ZXNfcGl4ZWxfYm91bmRzIik7CgogICAgLy8gQ2xhbXAgdG8gYXhlcyBhcmVhCiAgICBwaXhlbFggPSBNYXRoLm1heChsZWZ0LCBNYXRoLm1pbihyaWdodCwgcGl4ZWxYKSk7CiAgICBwaXhlbFkgPSBNYXRoLm1heCh0b3AsIE1hdGgubWluKGJvdHRvbSwgcGl4ZWxZKSk7CgogICAgLy8gTWFwIChZIGludmVydGVkIGJlY2F1c2UgY2FudmFzIFkgZ29lcyBkb3duLCBkYXRhIFkgZ29lcyB1cCkKICAgIGxldCBkYXRhWCA9IHhNaW4gKyAoKHBpeGVsWCAtIGxlZnQpIC8gKHJpZ2h0IC0gbGVmdCkpICogKHhNYXggLSB4TWluKTsKICAgIGxldCBkYXRhWSA9IHlNaW4gKyAoKGJvdHRvbSAtIHBpeGVsWSkgLyAoYm90dG9tIC0gdG9wKSkgKiAoeU1heCAtIHlNaW4pOwoKICAgIC8vIEFwcGx5IG9wdGlvbmFsIGRyYWcgY29uc3RyYWludHMgaW4gZGF0YSBzcGFjZQogICAgY29uc3QgZHJhZ1hCb3VuZHMgPSBtb2RlbC5nZXQoImRyYWdfeF9ib3VuZHMiKTsKICAgIGNvbnN0IGRyYWdZQm91bmRzID0gbW9kZWwuZ2V0KCJkcmFnX3lfYm91bmRzIik7CgogICAgaWYgKGRyYWdYQm91bmRzKSB7CiAgICAgIGRhdGFYID0gTWF0aC5tYXgoZHJhZ1hCb3VuZHNbMF0sIE1hdGgubWluKGRyYWdYQm91bmRzWzFdLCBkYXRhWCkpOwogICAgfQogICAgaWYgKGRyYWdZQm91bmRzKSB7CiAgICAgIGRhdGFZID0gTWF0aC5tYXgoZHJhZ1lCb3VuZHNbMF0sIE1hdGgubWluKGRyYWdZQm91bmRzWzFdLCBkYXRhWSkpOwogICAgfQoKICAgIHJldHVybiB7IHg6IGRhdGFYLCB5OiBkYXRhWSB9OwogIH0KCiAgZnVuY3Rpb24gZGF0YVRvUGl4ZWwoZGF0YVgsIGRhdGFZKSB7CiAgICBjb25zdCBbeE1pbiwgeE1heF0gPSBtb2RlbC5nZXQoInhfYm91bmRzIik7CiAgICBjb25zdCBbeU1pbiwgeU1heF0gPSBtb2RlbC5nZXQoInlfYm91bmRzIik7CiAgICBjb25zdCBbbGVmdCwgdG9wLCByaWdodCwgYm90dG9tXSA9IG1vZGVsLmdldCgiYXhlc19waXhlbF9ib3VuZHMiKTsKCiAgICBjb25zdCBwaXhlbFggPSBsZWZ0ICsgKChkYXRhWCAtIHhNaW4pIC8gKHhNYXggLSB4TWluKSkgKiAocmlnaHQgLSBsZWZ0KTsKICAgIGNvbnN0IHBpeGVsWSA9IGJvdHRvbSAtICgoZGF0YVkgLSB5TWluKSAvICh5TWF4IC0geU1pbikpICogKGJvdHRvbSAtIHRvcCk7CiAgICByZXR1cm4geyB4OiBwaXhlbFgsIHk6IHBpeGVsWSB9OwogIH0KCiAgZnVuY3Rpb24gZHJhd1B1Y2socGl4ZWxYLCBwaXhlbFksIHJhZGl1cywgY29sb3IpIHsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGN0eC5hcmMocGl4ZWxYLCBwaXhlbFksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpOwogICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yOwogICAgY3R4LmZpbGwoKTsKCiAgICAvLyBEcmF3IHdoaXRlIGJvcmRlciBmb3IgdmlzaWJpbGl0eQogICAgY3R4LnN0cm9rZVN0eWxlID0gIndoaXRlIjsKICAgIGN0eC5saW5lV2lkdGggPSAyOwogICAgY3R4LnN0cm9rZSgpOwoKICAgIC8vIERyYXcgb3V0ZXIgYmxhY2sgYm9yZGVyCiAgICBjdHguc3Ryb2tlU3R5bGUgPSAicmdiYSgwLCAwLCAwLCAwLjMpIjsKICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgY3R4LnN0cm9rZSgpOwogIH0KCiAgZnVuY3Rpb24gZHJhdygpIHsKICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKCiAgICAvLyBEcmF3IGNoYXJ0IGltYWdlIGFzIGJhY2tncm91bmQKICAgIGlmIChpbWFnZUxvYWRlZCkgewogICAgICBjdHguZHJhd0ltYWdlKGNoYXJ0SW1hZ2UsIDAsIDApOwogICAgfQoKICAgIC8vIERyYXcgYWxsIHB1Y2tzCiAgICBjb25zdCB4cyA9IG1vZGVsLmdldCgieCIpOwogICAgY29uc3QgeXMgPSBtb2RlbC5nZXQoInkiKTsKICAgIGNvbnN0IHJhZGl1cyA9IG1vZGVsLmdldCgicHVja19yYWRpdXMiKTsKICAgIGNvbnN0IGNvbG9yID0gbW9kZWwuZ2V0KCJwdWNrX2NvbG9yIik7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBwdWNrUG9zID0gZGF0YVRvUGl4ZWwoeHNbaV0sIHlzW2ldKTsKICAgICAgZHJhd1B1Y2socHVja1Bvcy54LCBwdWNrUG9zLnksIHJhZGl1cywgY29sb3IpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZ2V0Q2FudmFzQ29vcmRzKGV2ZW50KSB7CiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgcmV0dXJuIHsKICAgICAgeDogZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCwKICAgICAgeTogZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wLAogICAgfTsKICB9CgogIGZ1bmN0aW9uIGZpbmRDbG9zZXN0UHVjayhwaXhlbFgsIHBpeGVsWSkgewogICAgY29uc3QgeHMgPSBtb2RlbC5nZXQoIngiKTsKICAgIGNvbnN0IHlzID0gbW9kZWwuZ2V0KCJ5Iik7CiAgICBsZXQgY2xvc2VzdEluZGV4ID0gMDsKICAgIGxldCBjbG9zZXN0RGlzdCA9IEluZmluaXR5OwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgcHVja1BvcyA9IGRhdGFUb1BpeGVsKHhzW2ldLCB5c1tpXSk7CiAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmh5cG90KHB1Y2tQb3MueCAtIHBpeGVsWCwgcHVja1Bvcy55IC0gcGl4ZWxZKTsKICAgICAgaWYgKGRpc3QgPCBjbG9zZXN0RGlzdCkgewogICAgICAgIGNsb3Nlc3REaXN0ID0gZGlzdDsKICAgICAgICBjbG9zZXN0SW5kZXggPSBpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGNsb3Nlc3RJbmRleDsKICB9CgogIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0KGV2ZW50KSB7CiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgIGxldCBjb29yZHM7CiAgICBpZiAoZXZlbnQudG91Y2hlcykgewogICAgICBjb29yZHMgPSB7CiAgICAgICAgeDogZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQsCiAgICAgICAgeTogZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIC0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCwKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIGNvb3JkcyA9IGdldENhbnZhc0Nvb3JkcyhldmVudCk7CiAgICB9CgogICAgZHJhZ0luZGV4ID0gZmluZENsb3Nlc3RQdWNrKGNvb3Jkcy54LCBjb29yZHMueSk7CiAgICBpc0RyYWdnaW5nID0gdHJ1ZTsKICAgIGhhbmRsZU1vdmUoZXZlbnQpOwogIH0KCiAgZnVuY3Rpb24gaGFuZGxlTW92ZShldmVudCkgewogICAgaWYgKCFpc0RyYWdnaW5nIHx8IGRyYWdJbmRleCA8IDApIHJldHVybjsKICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgbGV0IGNvb3JkczsKICAgIGlmIChldmVudC50b3VjaGVzKSB7CiAgICAgIGNvb3JkcyA9IHsKICAgICAgICB4OiBldmVudC50b3VjaGVzWzBdLmNsaWVudFggLSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCwKICAgICAgICB5OiBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgLSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLAogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgY29vcmRzID0gZ2V0Q2FudmFzQ29vcmRzKGV2ZW50KTsKICAgIH0KCiAgICBjb25zdCBkYXRhID0gcGl4ZWxUb0RhdGEoY29vcmRzLngsIGNvb3Jkcy55KTsKCiAgICAvLyBVcGRhdGUgdGhlIGRyYWdnZWQgcHVjaydzIHBvc2l0aW9uCiAgICBjb25zdCB4cyA9IFsuLi5tb2RlbC5nZXQoIngiKV07CiAgICBjb25zdCB5cyA9IFsuLi5tb2RlbC5nZXQoInkiKV07CiAgICB4c1tkcmFnSW5kZXhdID0gZGF0YS54OwogICAgeXNbZHJhZ0luZGV4XSA9IGRhdGEueTsKCiAgICBtb2RlbC5zZXQoIngiLCB4cyk7CiAgICBtb2RlbC5zZXQoInkiLCB5cyk7CiAgICBtb2RlbC5zYXZlX2NoYW5nZXMoKTsKICAgIGRyYXcoKTsKICB9CgogIGZ1bmN0aW9uIGhhbmRsZUVuZCgpIHsKICAgIGlzRHJhZ2dpbmcgPSBmYWxzZTsKICAgIGRyYWdJbmRleCA9IC0xOwogIH0KCiAgLy8gTW91c2UgZXZlbnRzCiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGhhbmRsZVN0YXJ0KTsKICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgaGFuZGxlTW92ZSk7CiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIGhhbmRsZUVuZCk7CgogIC8vIFRvdWNoIGV2ZW50cwogIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgaGFuZGxlU3RhcnQpOwogIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCBoYW5kbGVNb3ZlKTsKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsIGhhbmRsZUVuZCk7CgogIC8vIExvYWQgY2hhcnQgaW1hZ2UKICBjaGFydEltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIGltYWdlTG9hZGVkID0gdHJ1ZTsKICAgIGRyYXcoKTsKICB9OwogIGNoYXJ0SW1hZ2Uuc3JjID0gbW9kZWwuZ2V0KCJjaGFydF9iYXNlNjQiKTsKCiAgLy8gU3luYyBmcm9tIG1vZGVsIGNoYW5nZXMKICBtb2RlbC5vbigiY2hhbmdlOngiLCBkcmF3KTsKICBtb2RlbC5vbigiY2hhbmdlOnkiLCBkcmF3KTsKICBtb2RlbC5vbigiY2hhbmdlOnB1Y2tfcmFkaXVzIiwgZHJhdyk7CiAgbW9kZWwub24oImNoYW5nZTpwdWNrX2NvbG9yIiwgZHJhdyk7CiAgbW9kZWwub24oImNoYW5nZTpjaGFydF9iYXNlNjQiLCBmdW5jdGlvbiAoKSB7CiAgICBjaGFydEltYWdlLnNyYyA9IG1vZGVsLmdldCgiY2hhcnRfYmFzZTY0Iik7CiAgfSk7CgogIC8vIEluaXRpYWwgZHJhdwogIGRyYXcoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTsK&quot;' data-js-hash='&quot;9f2dbf3ba16b4ddd1af4f7c1f87020bf&quot;'></marimo-anywidget></marimo-ui-element>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "ZHCJ",
      "code_hash": "7da54da5dfc3bd6c890fa9957529bea0",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-callout-output data-html='&quot;&lt;span&gt;Dynamic position: x = 0.000, y = 0.000&lt;/span&gt;&quot;' data-kind='&quot;neutral&quot;'></marimo-callout-output>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "ROlb",
      "code_hash": "a076f3e597c96e48095ef38a69928ad2",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"spline-curve-editor\">Spline Curve Editor</h2>\n<span class=\"paragraph\">Drag the pucks to shape a curve. The spline interpolates through all control points,\nwith fixed anchors at (-3, 0) and (3, 1) shown as black dots.\nUse the slider to change the number of pucks, and the dropdown to select the interpolation method.</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "qnkX",
      "code_hash": "43c108bba0ee9395dc81dff502081905",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "TqIu",
      "code_hash": "dff508a64aae616539c5f6b79a35a68e",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "Vxnm",
      "code_hash": "6938dbf59f25a70b4429a59c85315992",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 2rem'><marimo-ui-element object-id='qnkX-0' random-id='81cf6ddb-83b4-c137-7429-b08247cae464'><marimo-slider data-initial-value='5' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert contents&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Number of pucks&lt;/span&gt;&lt;/span&gt;&quot;' data-start='3' data-stop='8' data-steps='[]' data-debounce='false' data-disabled='false' data-orientation='&quot;horizontal&quot;' data-show-value='false' data-include-input='false' data-full-width='false'></marimo-slider></marimo-ui-element><marimo-ui-element object-id='Vxnm-0' random-id='14fba886-3a0e-a570-f9d2-2df85d55c056'><marimo-dropdown data-initial-value='[&quot;CubicSpline&quot;]' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert contents&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Interpolation method&lt;/span&gt;&lt;/span&gt;&quot;' data-options='[&quot;CubicSpline&quot;,&quot;Pchip&quot;,&quot;Akima&quot;,&quot;Linear&quot;,&quot;Quadratic&quot;,&quot;Step&quot;,&quot;Nearest&quot;,&quot;Barycentric&quot;]' data-allow-select-none='false' data-searchable='false' data-full-width='false'></marimo-dropdown></marimo-ui-element></div>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "DnEU",
      "code_hash": "4f34e45766629c09ce50ef7cb8ab61f5",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "ulZA",
      "code_hash": "ae0159bcc36d2457f56aaa308d1dfab0",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='DnEU-0' random-id='cbebf7a2-9721-dd3d-320b-7b8b0122eb4e'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;71bfea64c59546a7831b18160c9b9c37&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHsgbW9kZWwsIGVsIH0pIHsKICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiOwogIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CgogIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwogIGNhbnZhcy53aWR0aCA9IG1vZGVsLmdldCgid2lkdGgiKTsKICBjYW52YXMuaGVpZ2h0ID0gbW9kZWwuZ2V0KCJoZWlnaHQiKTsKICBjYW52YXMuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgY2FudmFzLnN0eWxlLmN1cnNvciA9ICJjcm9zc2hhaXIiOwoKICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTsKICBlbC5hcHBlbmRDaGlsZChjb250YWluZXIpOwoKICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICBjb25zdCBjaGFydEltYWdlID0gbmV3IEltYWdlKCk7CiAgbGV0IGltYWdlTG9hZGVkID0gZmFsc2U7CiAgbGV0IGlzRHJhZ2dpbmcgPSBmYWxzZTsKICBsZXQgZHJhZ0luZGV4ID0gLTE7IC8vIFdoaWNoIHB1Y2sgaXMgYmVpbmcgZHJhZ2dlZAoKICBmdW5jdGlvbiBwaXhlbFRvRGF0YShwaXhlbFgsIHBpeGVsWSkgewogICAgY29uc3QgW3hNaW4sIHhNYXhdID0gbW9kZWwuZ2V0KCJ4X2JvdW5kcyIpOwogICAgY29uc3QgW3lNaW4sIHlNYXhdID0gbW9kZWwuZ2V0KCJ5X2JvdW5kcyIpOwogICAgY29uc3QgW2xlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbV0gPSBtb2RlbC5nZXQoImF4ZXNfcGl4ZWxfYm91bmRzIik7CgogICAgLy8gQ2xhbXAgdG8gYXhlcyBhcmVhCiAgICBwaXhlbFggPSBNYXRoLm1heChsZWZ0LCBNYXRoLm1pbihyaWdodCwgcGl4ZWxYKSk7CiAgICBwaXhlbFkgPSBNYXRoLm1heCh0b3AsIE1hdGgubWluKGJvdHRvbSwgcGl4ZWxZKSk7CgogICAgLy8gTWFwIChZIGludmVydGVkIGJlY2F1c2UgY2FudmFzIFkgZ29lcyBkb3duLCBkYXRhIFkgZ29lcyB1cCkKICAgIGxldCBkYXRhWCA9IHhNaW4gKyAoKHBpeGVsWCAtIGxlZnQpIC8gKHJpZ2h0IC0gbGVmdCkpICogKHhNYXggLSB4TWluKTsKICAgIGxldCBkYXRhWSA9IHlNaW4gKyAoKGJvdHRvbSAtIHBpeGVsWSkgLyAoYm90dG9tIC0gdG9wKSkgKiAoeU1heCAtIHlNaW4pOwoKICAgIC8vIEFwcGx5IG9wdGlvbmFsIGRyYWcgY29uc3RyYWludHMgaW4gZGF0YSBzcGFjZQogICAgY29uc3QgZHJhZ1hCb3VuZHMgPSBtb2RlbC5nZXQoImRyYWdfeF9ib3VuZHMiKTsKICAgIGNvbnN0IGRyYWdZQm91bmRzID0gbW9kZWwuZ2V0KCJkcmFnX3lfYm91bmRzIik7CgogICAgaWYgKGRyYWdYQm91bmRzKSB7CiAgICAgIGRhdGFYID0gTWF0aC5tYXgoZHJhZ1hCb3VuZHNbMF0sIE1hdGgubWluKGRyYWdYQm91bmRzWzFdLCBkYXRhWCkpOwogICAgfQogICAgaWYgKGRyYWdZQm91bmRzKSB7CiAgICAgIGRhdGFZID0gTWF0aC5tYXgoZHJhZ1lCb3VuZHNbMF0sIE1hdGgubWluKGRyYWdZQm91bmRzWzFdLCBkYXRhWSkpOwogICAgfQoKICAgIHJldHVybiB7IHg6IGRhdGFYLCB5OiBkYXRhWSB9OwogIH0KCiAgZnVuY3Rpb24gZGF0YVRvUGl4ZWwoZGF0YVgsIGRhdGFZKSB7CiAgICBjb25zdCBbeE1pbiwgeE1heF0gPSBtb2RlbC5nZXQoInhfYm91bmRzIik7CiAgICBjb25zdCBbeU1pbiwgeU1heF0gPSBtb2RlbC5nZXQoInlfYm91bmRzIik7CiAgICBjb25zdCBbbGVmdCwgdG9wLCByaWdodCwgYm90dG9tXSA9IG1vZGVsLmdldCgiYXhlc19waXhlbF9ib3VuZHMiKTsKCiAgICBjb25zdCBwaXhlbFggPSBsZWZ0ICsgKChkYXRhWCAtIHhNaW4pIC8gKHhNYXggLSB4TWluKSkgKiAocmlnaHQgLSBsZWZ0KTsKICAgIGNvbnN0IHBpeGVsWSA9IGJvdHRvbSAtICgoZGF0YVkgLSB5TWluKSAvICh5TWF4IC0geU1pbikpICogKGJvdHRvbSAtIHRvcCk7CiAgICByZXR1cm4geyB4OiBwaXhlbFgsIHk6IHBpeGVsWSB9OwogIH0KCiAgZnVuY3Rpb24gZHJhd1B1Y2socGl4ZWxYLCBwaXhlbFksIHJhZGl1cywgY29sb3IpIHsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGN0eC5hcmMocGl4ZWxYLCBwaXhlbFksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpOwogICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yOwogICAgY3R4LmZpbGwoKTsKCiAgICAvLyBEcmF3IHdoaXRlIGJvcmRlciBmb3IgdmlzaWJpbGl0eQogICAgY3R4LnN0cm9rZVN0eWxlID0gIndoaXRlIjsKICAgIGN0eC5saW5lV2lkdGggPSAyOwogICAgY3R4LnN0cm9rZSgpOwoKICAgIC8vIERyYXcgb3V0ZXIgYmxhY2sgYm9yZGVyCiAgICBjdHguc3Ryb2tlU3R5bGUgPSAicmdiYSgwLCAwLCAwLCAwLjMpIjsKICAgIGN0eC5saW5lV2lkdGggPSAxOwogICAgY3R4LnN0cm9rZSgpOwogIH0KCiAgZnVuY3Rpb24gZHJhdygpIHsKICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKCiAgICAvLyBEcmF3IGNoYXJ0IGltYWdlIGFzIGJhY2tncm91bmQKICAgIGlmIChpbWFnZUxvYWRlZCkgewogICAgICBjdHguZHJhd0ltYWdlKGNoYXJ0SW1hZ2UsIDAsIDApOwogICAgfQoKICAgIC8vIERyYXcgYWxsIHB1Y2tzCiAgICBjb25zdCB4cyA9IG1vZGVsLmdldCgieCIpOwogICAgY29uc3QgeXMgPSBtb2RlbC5nZXQoInkiKTsKICAgIGNvbnN0IHJhZGl1cyA9IG1vZGVsLmdldCgicHVja19yYWRpdXMiKTsKICAgIGNvbnN0IGNvbG9yID0gbW9kZWwuZ2V0KCJwdWNrX2NvbG9yIik7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBwdWNrUG9zID0gZGF0YVRvUGl4ZWwoeHNbaV0sIHlzW2ldKTsKICAgICAgZHJhd1B1Y2socHVja1Bvcy54LCBwdWNrUG9zLnksIHJhZGl1cywgY29sb3IpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZ2V0Q2FudmFzQ29vcmRzKGV2ZW50KSB7CiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgcmV0dXJuIHsKICAgICAgeDogZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCwKICAgICAgeTogZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wLAogICAgfTsKICB9CgogIGZ1bmN0aW9uIGZpbmRDbG9zZXN0UHVjayhwaXhlbFgsIHBpeGVsWSkgewogICAgY29uc3QgeHMgPSBtb2RlbC5nZXQoIngiKTsKICAgIGNvbnN0IHlzID0gbW9kZWwuZ2V0KCJ5Iik7CiAgICBsZXQgY2xvc2VzdEluZGV4ID0gMDsKICAgIGxldCBjbG9zZXN0RGlzdCA9IEluZmluaXR5OwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgcHVja1BvcyA9IGRhdGFUb1BpeGVsKHhzW2ldLCB5c1tpXSk7CiAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmh5cG90KHB1Y2tQb3MueCAtIHBpeGVsWCwgcHVja1Bvcy55IC0gcGl4ZWxZKTsKICAgICAgaWYgKGRpc3QgPCBjbG9zZXN0RGlzdCkgewogICAgICAgIGNsb3Nlc3REaXN0ID0gZGlzdDsKICAgICAgICBjbG9zZXN0SW5kZXggPSBpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGNsb3Nlc3RJbmRleDsKICB9CgogIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0KGV2ZW50KSB7CiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgIGxldCBjb29yZHM7CiAgICBpZiAoZXZlbnQudG91Y2hlcykgewogICAgICBjb29yZHMgPSB7CiAgICAgICAgeDogZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQsCiAgICAgICAgeTogZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIC0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCwKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIGNvb3JkcyA9IGdldENhbnZhc0Nvb3JkcyhldmVudCk7CiAgICB9CgogICAgZHJhZ0luZGV4ID0gZmluZENsb3Nlc3RQdWNrKGNvb3Jkcy54LCBjb29yZHMueSk7CiAgICBpc0RyYWdnaW5nID0gdHJ1ZTsKICAgIGhhbmRsZU1vdmUoZXZlbnQpOwogIH0KCiAgZnVuY3Rpb24gaGFuZGxlTW92ZShldmVudCkgewogICAgaWYgKCFpc0RyYWdnaW5nIHx8IGRyYWdJbmRleCA8IDApIHJldHVybjsKICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgbGV0IGNvb3JkczsKICAgIGlmIChldmVudC50b3VjaGVzKSB7CiAgICAgIGNvb3JkcyA9IHsKICAgICAgICB4OiBldmVudC50b3VjaGVzWzBdLmNsaWVudFggLSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCwKICAgICAgICB5OiBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgLSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLAogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgY29vcmRzID0gZ2V0Q2FudmFzQ29vcmRzKGV2ZW50KTsKICAgIH0KCiAgICBjb25zdCBkYXRhID0gcGl4ZWxUb0RhdGEoY29vcmRzLngsIGNvb3Jkcy55KTsKCiAgICAvLyBVcGRhdGUgdGhlIGRyYWdnZWQgcHVjaydzIHBvc2l0aW9uCiAgICBjb25zdCB4cyA9IFsuLi5tb2RlbC5nZXQoIngiKV07CiAgICBjb25zdCB5cyA9IFsuLi5tb2RlbC5nZXQoInkiKV07CiAgICB4c1tkcmFnSW5kZXhdID0gZGF0YS54OwogICAgeXNbZHJhZ0luZGV4XSA9IGRhdGEueTsKCiAgICBtb2RlbC5zZXQoIngiLCB4cyk7CiAgICBtb2RlbC5zZXQoInkiLCB5cyk7CiAgICBtb2RlbC5zYXZlX2NoYW5nZXMoKTsKICAgIGRyYXcoKTsKICB9CgogIGZ1bmN0aW9uIGhhbmRsZUVuZCgpIHsKICAgIGlzRHJhZ2dpbmcgPSBmYWxzZTsKICAgIGRyYWdJbmRleCA9IC0xOwogIH0KCiAgLy8gTW91c2UgZXZlbnRzCiAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGhhbmRsZVN0YXJ0KTsKICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgaGFuZGxlTW92ZSk7CiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIGhhbmRsZUVuZCk7CgogIC8vIFRvdWNoIGV2ZW50cwogIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgaGFuZGxlU3RhcnQpOwogIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCBoYW5kbGVNb3ZlKTsKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsIGhhbmRsZUVuZCk7CgogIC8vIExvYWQgY2hhcnQgaW1hZ2UKICBjaGFydEltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIGltYWdlTG9hZGVkID0gdHJ1ZTsKICAgIGRyYXcoKTsKICB9OwogIGNoYXJ0SW1hZ2Uuc3JjID0gbW9kZWwuZ2V0KCJjaGFydF9iYXNlNjQiKTsKCiAgLy8gU3luYyBmcm9tIG1vZGVsIGNoYW5nZXMKICBtb2RlbC5vbigiY2hhbmdlOngiLCBkcmF3KTsKICBtb2RlbC5vbigiY2hhbmdlOnkiLCBkcmF3KTsKICBtb2RlbC5vbigiY2hhbmdlOnB1Y2tfcmFkaXVzIiwgZHJhdyk7CiAgbW9kZWwub24oImNoYW5nZTpwdWNrX2NvbG9yIiwgZHJhdyk7CiAgbW9kZWwub24oImNoYW5nZTpjaGFydF9iYXNlNjQiLCBmdW5jdGlvbiAoKSB7CiAgICBjaGFydEltYWdlLnNyYyA9IG1vZGVsLmdldCgiY2hhcnRfYmFzZTY0Iik7CiAgfSk7CgogIC8vIEluaXRpYWwgZHJhdwogIGRyYXcoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTsK&quot;' data-js-hash='&quot;9f2dbf3ba16b4ddd1af4f7c1f87020bf&quot;'></marimo-anywidget></marimo-ui-element>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "ecfG",
      "code_hash": "8295b7f321f41425b72307e3fed0097d",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-callout-output data-html='&quot;&lt;span&gt;Control points: (-2.50, 0.10), (-1.25, 0.30), (0.00, 0.50), (1.25, 0.70), (2.50, 0.90)&lt;/span&gt;&quot;' data-kind='&quot;neutral&quot;'></marimo-callout-output>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "Pvdt",
      "code_hash": "e4117e4db79129afed52759055f921cf",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"interactive-k-means-clustering\">Interactive K-Means Clustering</h2>\n<span class=\"paragraph\">Drag the 10 pucks to explore how cluster centroids affect digit classification.\nThe chart below shows the nearest digit images to each puck position.</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "ZBYS",
      "code_hash": "214e44aad21437c3c7262b91ea2cd856",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='ZBYS-0' random-id='8289905e-770b-7eeb-42c7-cf5d7c4b12a9'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert contents&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Load K-Means Demo&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;neutral&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "aLJB",
      "code_hash": "10a0a90a29677a8a5cb7054853527e27",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><span class=\"paragraph\"><em>Click the button above to load the interactive k-means demo.</em></span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "nHfw",
      "code_hash": "15786cca6699122853c65207940a1f3a",
      "outputs": [
        {
          "type": "error",
          "ename": "ancestor-stopped",
          "evalue": "This cell wasn't run because an ancestor was stopped with `mo.stop`: ",
          "traceback": []
        }
      ],
      "console": []
    },
    {
      "id": "xXTn",
      "code_hash": "39095701ec12dfff5659fe402d447ec3",
      "outputs": [
        {
          "type": "error",
          "ename": "ancestor-stopped",
          "evalue": "This cell wasn't run because an ancestor was stopped with `mo.stop`: ",
          "traceback": []
        }
      ],
      "console": []
    },
    {
      "id": "AjVT",
      "code_hash": "d35ae8a2a9a2557d9512739cc8bb280e",
      "outputs": [
        {
          "type": "error",
          "ename": "ancestor-stopped",
          "evalue": "This cell wasn't run because an ancestor was stopped with `mo.stop`: ",
          "traceback": []
        }
      ],
      "console": []
    },
    {
      "id": "pHFh",
      "code_hash": "a4da5f0f7d883033248a17c0f1d40e8c",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h3 id=\"export-to-scikit-learn\">Export to scikit-learn</h3>\n<span class=\"paragraph\">Use <code>export_kmeans()</code> to get a scikit-learn KMeans instance with your puck positions as initial centroids:</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "NCOB",
      "code_hash": "55706e9a211ce6ba141c54ab4a9751c3",
      "outputs": [
        {
          "type": "error",
          "ename": "ancestor-stopped",
          "evalue": "This cell wasn't run because an ancestor was stopped with `mo.stop`: ",
          "traceback": []
        }
      ],
      "console": []
    }
  ]
}