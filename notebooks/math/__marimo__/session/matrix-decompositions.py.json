{
  "version": "1",
  "metadata": {
    "marimo_version": "0.19.11"
  },
  "cells": [
    {
      "id": "Hbol",
      "code_hash": "09f179ac1399f26143e2c77e461a174b",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "MJUe",
      "code_hash": "cc78e252c66cee49b07dacc42633a921",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "vblA",
      "code_hash": "47ee053ffb0951f8fd10126d28dc4383",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "bkHC",
      "code_hash": "af7e0b5e523a0df3f9deda232deb05fb",
      "outputs": [
        {
          "type": "data",
          "data": {
            "application/json": "[\"text/html:<marimo-ui-element object-id='vblA-0' random-id='24c5226b-a4c8-fa34-c1f7-a4ce6bb0b627'><marimo-slider data-initial-value='3' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert contents&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;rows&lt;/span&gt;&lt;/span&gt;&quot;' data-start='1' data-stop='10' data-step='1' data-steps='[]' data-debounce='false' data-disabled='false' data-orientation='&quot;horizontal&quot;' data-show-value='false' data-include-input='false' data-full-width='false'></marimo-slider></marimo-ui-element>\", \"text/html:<marimo-ui-element object-id='vblA-1' random-id='01155c6c-8b73-f3f9-4870-633dff0d6ff5'><marimo-slider data-initial-value='3' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert contents&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;cols&lt;/span&gt;&lt;/span&gt;&quot;' data-start='1' data-stop='10' data-step='1' data-steps='[]' data-debounce='false' data-disabled='false' data-orientation='&quot;horizontal&quot;' data-show-value='false' data-include-input='false' data-full-width='false'></marimo-slider></marimo-ui-element>\"]"
          }
        }
      ],
      "console": []
    },
    {
      "id": "lEQa",
      "code_hash": "5fc7f1f2eb1da01ce8601d16a76ec747",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='MJUe-0' random-id='62a88457-258d-71d7-32cd-8bb4bbe484ea'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;fa9925ff52ec488c9e0ce416bcab3819&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHttb2RlbCwgZWx9KXsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICByb3dzOiBtb2RlbC5nZXQoInJvd3MiKSwKICAgICAgICBjb2xzOiBtb2RlbC5nZXQoImNvbHMiKSwKICAgICAgICBtaW5WYWx1ZTogbW9kZWwuZ2V0KCJtaW5fdmFsdWUiKSwKICAgICAgICBtYXhWYWx1ZTogbW9kZWwuZ2V0KCJtYXhfdmFsdWUiKSwKICAgICAgICBpc01pcnJvcmVkOiBtb2RlbC5nZXQoIm1pcnJvciIpLAogICAgICAgIHN0ZXBTaXplOiBtb2RlbC5nZXQoInN0ZXAiKSwKICAgICAgICBkaWdpdHM6IG1vZGVsLmdldCgiZGlnaXRzIiksCiAgICAgICAgcGl4ZWxzUGVyU3RlcDogMiwKICAgICAgICByb3dOYW1lczogbW9kZWwuZ2V0KCJyb3dfbmFtZXMiKSwKICAgICAgICBjb2xOYW1lczogbW9kZWwuZ2V0KCJjb2xfbmFtZXMiKSwKICAgICAgICBpc1N0YXRpYzogbW9kZWwuZ2V0KCJzdGF0aWMiKSwKICAgICAgICBmbGV4aWJsZUNvbHVtbnM6IG1vZGVsLmdldCgiZmxleGlibGVfY29scyIpCiAgICB9OwogICAgCiAgICBsZXQgbWF0cml4ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtb2RlbC5nZXQoIm1hdHJpeCIpKSk7IC8vIERlZXAgY29weQoKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgibWF0cml4LXdyYXBwZXIiKTsKICAgIGVsLmFwcGVuZENoaWxkKHdyYXBwZXIpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck1hdHJpeCgpIHsKICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBtYWluIGdyaWQgY29udGFpbmVyCiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGdyaWRDb250YWluZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1ncmlkJzsKICAgICAgICBpZiAoY29uZmlnLmZsZXhpYmxlQ29sdW1ucykgewogICAgICAgICAgICBncmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZXhpYmxlLWNvbHVtbnMnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gRmlyc3QgY29sdW1uIGZvciByb3cgbGFiZWxzIChpZiB0aGV5IGV4aXN0KQogICAgICAgIGlmIChjb25maWcucm93TmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCByb3dMYWJlbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICByb3dMYWJlbENvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtbGFiZWwtY29sdW1uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEVtcHR5IGNvcm5lciBjZWxsIGlmIHdlIGhhdmUgY29sdW1uIG5hbWVzCiAgICAgICAgICAgIGlmIChjb25maWcuY29sTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgY29ybmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb3JuZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1jb3JuZXItY2VsbCc7CiAgICAgICAgICAgICAgICByb3dMYWJlbENvbHVtbi5hcHBlbmRDaGlsZChjb3JuZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgbGFiZWxzCiAgICAgICAgICAgIGNvbmZpZy5yb3dOYW1lcy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LXJvdy1sYWJlbCc7CiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gbmFtZTsKICAgICAgICAgICAgICAgIHJvd0xhYmVsQ29sdW1uLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93TGFiZWxDb2x1bW4pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgbWF0cml4IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCBhbGwgZGF0YSBjb2x1bW5zCiAgICAgICAgY29uc3QgbWF0cml4V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hdHJpeFdyYXBwZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1kYXRhLXdyYXBwZXInOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBjb2x1bW5zIGZvciBlYWNoIG1hdHJpeCBjb2x1bW4KICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29uZmlnLmNvbHM7IGNvbEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtZGF0YS1jb2x1bW4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sdW1uIGhlYWRlciBpZiBleGlzdHMKICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2xOYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LWNvbC1sYWJlbCc7CiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBjb25maWcuY29sTmFtZXNbY29sSW5kZXhdIHx8ICcnOwogICAgICAgICAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hdHJpeCB2YWx1ZXMKICAgICAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1lbGVtZW50JzsKICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21hdHJpeC1lbGVtZW50LXN0YXRpYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IHJvd1tjb2xJbmRleF0udG9GaXhlZChjb25maWcuZGlnaXRzKTsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5yb3cgPSByb3dJbmRleDsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5jb2wgPSBjb2xJbmRleDsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmlzU3RhdGljKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydERyYWdnaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChjZWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYXRyaXhXcmFwcGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQobWF0cml4V3JhcHBlcik7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChncmlkQ29udGFpbmVyKTsKCiAgICAgICAgdXBkYXRlTW9kZWwoKTsKICAgIH07CgogICAgZnVuY3Rpb24gdXBkYXRlTW9kZWwoKSB7CiAgICAgICAgbW9kZWwuc2V0KCJtYXRyaXgiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1hdHJpeCkpKTsgLy8gRGVlcCBjb3B5CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICB9OwoKICAgIGxldCB1cGRhdGVUaW1lb3V0OwogICAgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlTW9kZWwoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZVRpbWVvdXQpOwogICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZU1vZGVsLCAxMDApOyAvLyBEZWJvdW5jZSBmb3IgMTAwbXMKICAgIH07CgogICAgZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7CiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHBhcnNlRmxvYXQoZWxlbWVudC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LnJvdyk7CiAgICAgICAgY29uc3QgY29sID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCk7CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYOwogICAgICAgICAgICBjb25zdCBzdGVwcyA9IE1hdGguZmxvb3IoZGVsdGFYIC8gY29uZmlnLnBpeGVsc1BlclN0ZXApOwogICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGNvbmZpZy5taW5WYWx1ZSwgTWF0aC5taW4oY29uZmlnLm1heFZhbHVlLCBzdGFydFZhbHVlICsgc3RlcHMgKiBjb25maWcuc3RlcFNpemUpKTsKICAgICAgICAgICAgdXBkYXRlTWF0cml4VmFsdWUocm93LCBjb2wsIG5ld1ZhbHVlKTsKICAgICAgICAgICAgcmVuZGVyTWF0cml4KCk7CiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZU1vZGVsKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICAgICAgICAgIHVwZGF0ZU1vZGVsKCk7IC8vIEVuc3VyZSBmaW5hbCBzdGF0ZSBpcyB1cGRhdGVkCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFZhbHVlKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgIG1hdHJpeFtyb3ddW2NvbF0gPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoY29uZmlnLmRpZ2l0cykpOwogICAgICAgIGlmIChjb25maWcuaXNNaXJyb3JlZCAmJiAoY29sIDwgY29uZmlnLnJvd3MpICYmIChyb3cgPCBjb25maWcuY29scykpIHsKICAgICAgICAgICAgbWF0cml4W2NvbF1bcm93XSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChjb25maWcuZGlnaXRzKSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZW5kZXJNYXRyaXgoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;c0a0ef6530732d033b6cf1ebf099626d&quot;'></marimo-anywidget></marimo-ui-element>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "PKri",
      "code_hash": "31069d924944fcf297b336fd506239be",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"svd-a-u-sigma-vtop\">SVD: <marimo-tex class=\"arithmatex\">||(A = U \\Sigma V^\\top||)</marimo-tex></h2>\n<span class=\"paragraph\"><marimo-tex class=\"arithmatex\">||(U||)</marimo-tex> and <marimo-tex class=\"arithmatex\">||(V||)</marimo-tex> are orthogonal matrices, <marimo-tex class=\"arithmatex\">||(\\Sigma||)</marimo-tex> is diagonal with singular values. Reveals the rank, range, and null space of a matrix.</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "Xref",
      "code_hash": "cd15bf9970529f906fba303c1cde365b",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<div style='display: flex;flex: 1;flex-direction: row;justify-content: flex-start;align-items: center;flex-wrap: nowrap;gap: 0.5rem'><marimo-ui-element object-id='Xref-0' random-id='18f9c8f0-6875-0bee-1949-4e07cab11af9'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;f89c3c9e3b2f4664a7901adfcaa88da8&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHttb2RlbCwgZWx9KXsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICByb3dzOiBtb2RlbC5nZXQoInJvd3MiKSwKICAgICAgICBjb2xzOiBtb2RlbC5nZXQoImNvbHMiKSwKICAgICAgICBtaW5WYWx1ZTogbW9kZWwuZ2V0KCJtaW5fdmFsdWUiKSwKICAgICAgICBtYXhWYWx1ZTogbW9kZWwuZ2V0KCJtYXhfdmFsdWUiKSwKICAgICAgICBpc01pcnJvcmVkOiBtb2RlbC5nZXQoIm1pcnJvciIpLAogICAgICAgIHN0ZXBTaXplOiBtb2RlbC5nZXQoInN0ZXAiKSwKICAgICAgICBkaWdpdHM6IG1vZGVsLmdldCgiZGlnaXRzIiksCiAgICAgICAgcGl4ZWxzUGVyU3RlcDogMiwKICAgICAgICByb3dOYW1lczogbW9kZWwuZ2V0KCJyb3dfbmFtZXMiKSwKICAgICAgICBjb2xOYW1lczogbW9kZWwuZ2V0KCJjb2xfbmFtZXMiKSwKICAgICAgICBpc1N0YXRpYzogbW9kZWwuZ2V0KCJzdGF0aWMiKSwKICAgICAgICBmbGV4aWJsZUNvbHVtbnM6IG1vZGVsLmdldCgiZmxleGlibGVfY29scyIpCiAgICB9OwogICAgCiAgICBsZXQgbWF0cml4ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtb2RlbC5nZXQoIm1hdHJpeCIpKSk7IC8vIERlZXAgY29weQoKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgibWF0cml4LXdyYXBwZXIiKTsKICAgIGVsLmFwcGVuZENoaWxkKHdyYXBwZXIpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck1hdHJpeCgpIHsKICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBtYWluIGdyaWQgY29udGFpbmVyCiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGdyaWRDb250YWluZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1ncmlkJzsKICAgICAgICBpZiAoY29uZmlnLmZsZXhpYmxlQ29sdW1ucykgewogICAgICAgICAgICBncmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZXhpYmxlLWNvbHVtbnMnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gRmlyc3QgY29sdW1uIGZvciByb3cgbGFiZWxzIChpZiB0aGV5IGV4aXN0KQogICAgICAgIGlmIChjb25maWcucm93TmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCByb3dMYWJlbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICByb3dMYWJlbENvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtbGFiZWwtY29sdW1uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEVtcHR5IGNvcm5lciBjZWxsIGlmIHdlIGhhdmUgY29sdW1uIG5hbWVzCiAgICAgICAgICAgIGlmIChjb25maWcuY29sTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgY29ybmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb3JuZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1jb3JuZXItY2VsbCc7CiAgICAgICAgICAgICAgICByb3dMYWJlbENvbHVtbi5hcHBlbmRDaGlsZChjb3JuZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgbGFiZWxzCiAgICAgICAgICAgIGNvbmZpZy5yb3dOYW1lcy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LXJvdy1sYWJlbCc7CiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gbmFtZTsKICAgICAgICAgICAgICAgIHJvd0xhYmVsQ29sdW1uLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93TGFiZWxDb2x1bW4pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgbWF0cml4IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCBhbGwgZGF0YSBjb2x1bW5zCiAgICAgICAgY29uc3QgbWF0cml4V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hdHJpeFdyYXBwZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1kYXRhLXdyYXBwZXInOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBjb2x1bW5zIGZvciBlYWNoIG1hdHJpeCBjb2x1bW4KICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29uZmlnLmNvbHM7IGNvbEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtZGF0YS1jb2x1bW4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sdW1uIGhlYWRlciBpZiBleGlzdHMKICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2xOYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LWNvbC1sYWJlbCc7CiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBjb25maWcuY29sTmFtZXNbY29sSW5kZXhdIHx8ICcnOwogICAgICAgICAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hdHJpeCB2YWx1ZXMKICAgICAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1lbGVtZW50JzsKICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21hdHJpeC1lbGVtZW50LXN0YXRpYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IHJvd1tjb2xJbmRleF0udG9GaXhlZChjb25maWcuZGlnaXRzKTsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5yb3cgPSByb3dJbmRleDsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5jb2wgPSBjb2xJbmRleDsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmlzU3RhdGljKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydERyYWdnaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChjZWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYXRyaXhXcmFwcGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQobWF0cml4V3JhcHBlcik7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChncmlkQ29udGFpbmVyKTsKCiAgICAgICAgdXBkYXRlTW9kZWwoKTsKICAgIH07CgogICAgZnVuY3Rpb24gdXBkYXRlTW9kZWwoKSB7CiAgICAgICAgbW9kZWwuc2V0KCJtYXRyaXgiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1hdHJpeCkpKTsgLy8gRGVlcCBjb3B5CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICB9OwoKICAgIGxldCB1cGRhdGVUaW1lb3V0OwogICAgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlTW9kZWwoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZVRpbWVvdXQpOwogICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZU1vZGVsLCAxMDApOyAvLyBEZWJvdW5jZSBmb3IgMTAwbXMKICAgIH07CgogICAgZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7CiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHBhcnNlRmxvYXQoZWxlbWVudC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LnJvdyk7CiAgICAgICAgY29uc3QgY29sID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCk7CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYOwogICAgICAgICAgICBjb25zdCBzdGVwcyA9IE1hdGguZmxvb3IoZGVsdGFYIC8gY29uZmlnLnBpeGVsc1BlclN0ZXApOwogICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGNvbmZpZy5taW5WYWx1ZSwgTWF0aC5taW4oY29uZmlnLm1heFZhbHVlLCBzdGFydFZhbHVlICsgc3RlcHMgKiBjb25maWcuc3RlcFNpemUpKTsKICAgICAgICAgICAgdXBkYXRlTWF0cml4VmFsdWUocm93LCBjb2wsIG5ld1ZhbHVlKTsKICAgICAgICAgICAgcmVuZGVyTWF0cml4KCk7CiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZU1vZGVsKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICAgICAgICAgIHVwZGF0ZU1vZGVsKCk7IC8vIEVuc3VyZSBmaW5hbCBzdGF0ZSBpcyB1cGRhdGVkCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFZhbHVlKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgIG1hdHJpeFtyb3ddW2NvbF0gPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoY29uZmlnLmRpZ2l0cykpOwogICAgICAgIGlmIChjb25maWcuaXNNaXJyb3JlZCAmJiAoY29sIDwgY29uZmlnLnJvd3MpICYmIChyb3cgPCBjb25maWcuY29scykpIHsKICAgICAgICAgICAgbWF0cml4W2NvbF1bcm93XSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChjb25maWcuZGlnaXRzKSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZW5kZXJNYXRyaXgoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;c0a0ef6530732d033b6cf1ebf099626d&quot;'></marimo-anywidget></marimo-ui-element><span class=\"markdown prose dark:prose-invert contents\"><h1 id=\"_1\"><marimo-tex class=\"arithmatex\">||(=||)</marimo-tex></h1></span><marimo-ui-element object-id='Xref-1' random-id='8beddf3a-aa9f-30bc-2272-2f92e36b9f53'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;c6df8f2983c24642ac6aeca17fe52dc3&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHttb2RlbCwgZWx9KXsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICByb3dzOiBtb2RlbC5nZXQoInJvd3MiKSwKICAgICAgICBjb2xzOiBtb2RlbC5nZXQoImNvbHMiKSwKICAgICAgICBtaW5WYWx1ZTogbW9kZWwuZ2V0KCJtaW5fdmFsdWUiKSwKICAgICAgICBtYXhWYWx1ZTogbW9kZWwuZ2V0KCJtYXhfdmFsdWUiKSwKICAgICAgICBpc01pcnJvcmVkOiBtb2RlbC5nZXQoIm1pcnJvciIpLAogICAgICAgIHN0ZXBTaXplOiBtb2RlbC5nZXQoInN0ZXAiKSwKICAgICAgICBkaWdpdHM6IG1vZGVsLmdldCgiZGlnaXRzIiksCiAgICAgICAgcGl4ZWxzUGVyU3RlcDogMiwKICAgICAgICByb3dOYW1lczogbW9kZWwuZ2V0KCJyb3dfbmFtZXMiKSwKICAgICAgICBjb2xOYW1lczogbW9kZWwuZ2V0KCJjb2xfbmFtZXMiKSwKICAgICAgICBpc1N0YXRpYzogbW9kZWwuZ2V0KCJzdGF0aWMiKSwKICAgICAgICBmbGV4aWJsZUNvbHVtbnM6IG1vZGVsLmdldCgiZmxleGlibGVfY29scyIpCiAgICB9OwogICAgCiAgICBsZXQgbWF0cml4ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtb2RlbC5nZXQoIm1hdHJpeCIpKSk7IC8vIERlZXAgY29weQoKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgibWF0cml4LXdyYXBwZXIiKTsKICAgIGVsLmFwcGVuZENoaWxkKHdyYXBwZXIpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck1hdHJpeCgpIHsKICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBtYWluIGdyaWQgY29udGFpbmVyCiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGdyaWRDb250YWluZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1ncmlkJzsKICAgICAgICBpZiAoY29uZmlnLmZsZXhpYmxlQ29sdW1ucykgewogICAgICAgICAgICBncmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZXhpYmxlLWNvbHVtbnMnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gRmlyc3QgY29sdW1uIGZvciByb3cgbGFiZWxzIChpZiB0aGV5IGV4aXN0KQogICAgICAgIGlmIChjb25maWcucm93TmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCByb3dMYWJlbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICByb3dMYWJlbENvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtbGFiZWwtY29sdW1uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEVtcHR5IGNvcm5lciBjZWxsIGlmIHdlIGhhdmUgY29sdW1uIG5hbWVzCiAgICAgICAgICAgIGlmIChjb25maWcuY29sTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgY29ybmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb3JuZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1jb3JuZXItY2VsbCc7CiAgICAgICAgICAgICAgICByb3dMYWJlbENvbHVtbi5hcHBlbmRDaGlsZChjb3JuZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgbGFiZWxzCiAgICAgICAgICAgIGNvbmZpZy5yb3dOYW1lcy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LXJvdy1sYWJlbCc7CiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gbmFtZTsKICAgICAgICAgICAgICAgIHJvd0xhYmVsQ29sdW1uLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93TGFiZWxDb2x1bW4pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgbWF0cml4IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCBhbGwgZGF0YSBjb2x1bW5zCiAgICAgICAgY29uc3QgbWF0cml4V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hdHJpeFdyYXBwZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1kYXRhLXdyYXBwZXInOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBjb2x1bW5zIGZvciBlYWNoIG1hdHJpeCBjb2x1bW4KICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29uZmlnLmNvbHM7IGNvbEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtZGF0YS1jb2x1bW4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sdW1uIGhlYWRlciBpZiBleGlzdHMKICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2xOYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LWNvbC1sYWJlbCc7CiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBjb25maWcuY29sTmFtZXNbY29sSW5kZXhdIHx8ICcnOwogICAgICAgICAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hdHJpeCB2YWx1ZXMKICAgICAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1lbGVtZW50JzsKICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21hdHJpeC1lbGVtZW50LXN0YXRpYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IHJvd1tjb2xJbmRleF0udG9GaXhlZChjb25maWcuZGlnaXRzKTsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5yb3cgPSByb3dJbmRleDsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5jb2wgPSBjb2xJbmRleDsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmlzU3RhdGljKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydERyYWdnaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChjZWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYXRyaXhXcmFwcGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQobWF0cml4V3JhcHBlcik7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChncmlkQ29udGFpbmVyKTsKCiAgICAgICAgdXBkYXRlTW9kZWwoKTsKICAgIH07CgogICAgZnVuY3Rpb24gdXBkYXRlTW9kZWwoKSB7CiAgICAgICAgbW9kZWwuc2V0KCJtYXRyaXgiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1hdHJpeCkpKTsgLy8gRGVlcCBjb3B5CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICB9OwoKICAgIGxldCB1cGRhdGVUaW1lb3V0OwogICAgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlTW9kZWwoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZVRpbWVvdXQpOwogICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZU1vZGVsLCAxMDApOyAvLyBEZWJvdW5jZSBmb3IgMTAwbXMKICAgIH07CgogICAgZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7CiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHBhcnNlRmxvYXQoZWxlbWVudC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LnJvdyk7CiAgICAgICAgY29uc3QgY29sID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCk7CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYOwogICAgICAgICAgICBjb25zdCBzdGVwcyA9IE1hdGguZmxvb3IoZGVsdGFYIC8gY29uZmlnLnBpeGVsc1BlclN0ZXApOwogICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGNvbmZpZy5taW5WYWx1ZSwgTWF0aC5taW4oY29uZmlnLm1heFZhbHVlLCBzdGFydFZhbHVlICsgc3RlcHMgKiBjb25maWcuc3RlcFNpemUpKTsKICAgICAgICAgICAgdXBkYXRlTWF0cml4VmFsdWUocm93LCBjb2wsIG5ld1ZhbHVlKTsKICAgICAgICAgICAgcmVuZGVyTWF0cml4KCk7CiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZU1vZGVsKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICAgICAgICAgIHVwZGF0ZU1vZGVsKCk7IC8vIEVuc3VyZSBmaW5hbCBzdGF0ZSBpcyB1cGRhdGVkCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFZhbHVlKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgIG1hdHJpeFtyb3ddW2NvbF0gPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoY29uZmlnLmRpZ2l0cykpOwogICAgICAgIGlmIChjb25maWcuaXNNaXJyb3JlZCAmJiAoY29sIDwgY29uZmlnLnJvd3MpICYmIChyb3cgPCBjb25maWcuY29scykpIHsKICAgICAgICAgICAgbWF0cml4W2NvbF1bcm93XSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChjb25maWcuZGlnaXRzKSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZW5kZXJNYXRyaXgoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;c0a0ef6530732d033b6cf1ebf099626d&quot;'></marimo-anywidget></marimo-ui-element><span class=\"markdown prose dark:prose-invert contents\"><h1 id=\"times\"><marimo-tex class=\"arithmatex\">||(\\times||)</marimo-tex></h1></span><marimo-ui-element object-id='Xref-2' random-id='42f14444-7bf6-6417-a320-89f1d98ddd59'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;83c97440b7da44efb68580058fb96529&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHttb2RlbCwgZWx9KXsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICByb3dzOiBtb2RlbC5nZXQoInJvd3MiKSwKICAgICAgICBjb2xzOiBtb2RlbC5nZXQoImNvbHMiKSwKICAgICAgICBtaW5WYWx1ZTogbW9kZWwuZ2V0KCJtaW5fdmFsdWUiKSwKICAgICAgICBtYXhWYWx1ZTogbW9kZWwuZ2V0KCJtYXhfdmFsdWUiKSwKICAgICAgICBpc01pcnJvcmVkOiBtb2RlbC5nZXQoIm1pcnJvciIpLAogICAgICAgIHN0ZXBTaXplOiBtb2RlbC5nZXQoInN0ZXAiKSwKICAgICAgICBkaWdpdHM6IG1vZGVsLmdldCgiZGlnaXRzIiksCiAgICAgICAgcGl4ZWxzUGVyU3RlcDogMiwKICAgICAgICByb3dOYW1lczogbW9kZWwuZ2V0KCJyb3dfbmFtZXMiKSwKICAgICAgICBjb2xOYW1lczogbW9kZWwuZ2V0KCJjb2xfbmFtZXMiKSwKICAgICAgICBpc1N0YXRpYzogbW9kZWwuZ2V0KCJzdGF0aWMiKSwKICAgICAgICBmbGV4aWJsZUNvbHVtbnM6IG1vZGVsLmdldCgiZmxleGlibGVfY29scyIpCiAgICB9OwogICAgCiAgICBsZXQgbWF0cml4ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtb2RlbC5nZXQoIm1hdHJpeCIpKSk7IC8vIERlZXAgY29weQoKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgibWF0cml4LXdyYXBwZXIiKTsKICAgIGVsLmFwcGVuZENoaWxkKHdyYXBwZXIpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck1hdHJpeCgpIHsKICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBtYWluIGdyaWQgY29udGFpbmVyCiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGdyaWRDb250YWluZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1ncmlkJzsKICAgICAgICBpZiAoY29uZmlnLmZsZXhpYmxlQ29sdW1ucykgewogICAgICAgICAgICBncmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZXhpYmxlLWNvbHVtbnMnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gRmlyc3QgY29sdW1uIGZvciByb3cgbGFiZWxzIChpZiB0aGV5IGV4aXN0KQogICAgICAgIGlmIChjb25maWcucm93TmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCByb3dMYWJlbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICByb3dMYWJlbENvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtbGFiZWwtY29sdW1uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEVtcHR5IGNvcm5lciBjZWxsIGlmIHdlIGhhdmUgY29sdW1uIG5hbWVzCiAgICAgICAgICAgIGlmIChjb25maWcuY29sTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgY29ybmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb3JuZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1jb3JuZXItY2VsbCc7CiAgICAgICAgICAgICAgICByb3dMYWJlbENvbHVtbi5hcHBlbmRDaGlsZChjb3JuZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgbGFiZWxzCiAgICAgICAgICAgIGNvbmZpZy5yb3dOYW1lcy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LXJvdy1sYWJlbCc7CiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gbmFtZTsKICAgICAgICAgICAgICAgIHJvd0xhYmVsQ29sdW1uLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93TGFiZWxDb2x1bW4pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgbWF0cml4IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCBhbGwgZGF0YSBjb2x1bW5zCiAgICAgICAgY29uc3QgbWF0cml4V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hdHJpeFdyYXBwZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1kYXRhLXdyYXBwZXInOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBjb2x1bW5zIGZvciBlYWNoIG1hdHJpeCBjb2x1bW4KICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29uZmlnLmNvbHM7IGNvbEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtZGF0YS1jb2x1bW4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sdW1uIGhlYWRlciBpZiBleGlzdHMKICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2xOYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LWNvbC1sYWJlbCc7CiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBjb25maWcuY29sTmFtZXNbY29sSW5kZXhdIHx8ICcnOwogICAgICAgICAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hdHJpeCB2YWx1ZXMKICAgICAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1lbGVtZW50JzsKICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21hdHJpeC1lbGVtZW50LXN0YXRpYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IHJvd1tjb2xJbmRleF0udG9GaXhlZChjb25maWcuZGlnaXRzKTsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5yb3cgPSByb3dJbmRleDsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5jb2wgPSBjb2xJbmRleDsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmlzU3RhdGljKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydERyYWdnaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChjZWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYXRyaXhXcmFwcGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQobWF0cml4V3JhcHBlcik7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChncmlkQ29udGFpbmVyKTsKCiAgICAgICAgdXBkYXRlTW9kZWwoKTsKICAgIH07CgogICAgZnVuY3Rpb24gdXBkYXRlTW9kZWwoKSB7CiAgICAgICAgbW9kZWwuc2V0KCJtYXRyaXgiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1hdHJpeCkpKTsgLy8gRGVlcCBjb3B5CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICB9OwoKICAgIGxldCB1cGRhdGVUaW1lb3V0OwogICAgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlTW9kZWwoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZVRpbWVvdXQpOwogICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZU1vZGVsLCAxMDApOyAvLyBEZWJvdW5jZSBmb3IgMTAwbXMKICAgIH07CgogICAgZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7CiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHBhcnNlRmxvYXQoZWxlbWVudC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LnJvdyk7CiAgICAgICAgY29uc3QgY29sID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCk7CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYOwogICAgICAgICAgICBjb25zdCBzdGVwcyA9IE1hdGguZmxvb3IoZGVsdGFYIC8gY29uZmlnLnBpeGVsc1BlclN0ZXApOwogICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGNvbmZpZy5taW5WYWx1ZSwgTWF0aC5taW4oY29uZmlnLm1heFZhbHVlLCBzdGFydFZhbHVlICsgc3RlcHMgKiBjb25maWcuc3RlcFNpemUpKTsKICAgICAgICAgICAgdXBkYXRlTWF0cml4VmFsdWUocm93LCBjb2wsIG5ld1ZhbHVlKTsKICAgICAgICAgICAgcmVuZGVyTWF0cml4KCk7CiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZU1vZGVsKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICAgICAgICAgIHVwZGF0ZU1vZGVsKCk7IC8vIEVuc3VyZSBmaW5hbCBzdGF0ZSBpcyB1cGRhdGVkCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFZhbHVlKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgIG1hdHJpeFtyb3ddW2NvbF0gPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoY29uZmlnLmRpZ2l0cykpOwogICAgICAgIGlmIChjb25maWcuaXNNaXJyb3JlZCAmJiAoY29sIDwgY29uZmlnLnJvd3MpICYmIChyb3cgPCBjb25maWcuY29scykpIHsKICAgICAgICAgICAgbWF0cml4W2NvbF1bcm93XSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChjb25maWcuZGlnaXRzKSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZW5kZXJNYXRyaXgoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;c0a0ef6530732d033b6cf1ebf099626d&quot;'></marimo-anywidget></marimo-ui-element><span class=\"markdown prose dark:prose-invert contents\"><h1 id=\"times\"><marimo-tex class=\"arithmatex\">||(\\times||)</marimo-tex></h1></span><marimo-ui-element object-id='Xref-3' random-id='7dca5858-226a-f122-0c3f-61871f430e1d'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;c147ce17dd7e49cd886c2abb8de2875f&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHttb2RlbCwgZWx9KXsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICByb3dzOiBtb2RlbC5nZXQoInJvd3MiKSwKICAgICAgICBjb2xzOiBtb2RlbC5nZXQoImNvbHMiKSwKICAgICAgICBtaW5WYWx1ZTogbW9kZWwuZ2V0KCJtaW5fdmFsdWUiKSwKICAgICAgICBtYXhWYWx1ZTogbW9kZWwuZ2V0KCJtYXhfdmFsdWUiKSwKICAgICAgICBpc01pcnJvcmVkOiBtb2RlbC5nZXQoIm1pcnJvciIpLAogICAgICAgIHN0ZXBTaXplOiBtb2RlbC5nZXQoInN0ZXAiKSwKICAgICAgICBkaWdpdHM6IG1vZGVsLmdldCgiZGlnaXRzIiksCiAgICAgICAgcGl4ZWxzUGVyU3RlcDogMiwKICAgICAgICByb3dOYW1lczogbW9kZWwuZ2V0KCJyb3dfbmFtZXMiKSwKICAgICAgICBjb2xOYW1lczogbW9kZWwuZ2V0KCJjb2xfbmFtZXMiKSwKICAgICAgICBpc1N0YXRpYzogbW9kZWwuZ2V0KCJzdGF0aWMiKSwKICAgICAgICBmbGV4aWJsZUNvbHVtbnM6IG1vZGVsLmdldCgiZmxleGlibGVfY29scyIpCiAgICB9OwogICAgCiAgICBsZXQgbWF0cml4ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtb2RlbC5nZXQoIm1hdHJpeCIpKSk7IC8vIERlZXAgY29weQoKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgibWF0cml4LXdyYXBwZXIiKTsKICAgIGVsLmFwcGVuZENoaWxkKHdyYXBwZXIpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck1hdHJpeCgpIHsKICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBtYWluIGdyaWQgY29udGFpbmVyCiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGdyaWRDb250YWluZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1ncmlkJzsKICAgICAgICBpZiAoY29uZmlnLmZsZXhpYmxlQ29sdW1ucykgewogICAgICAgICAgICBncmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZXhpYmxlLWNvbHVtbnMnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gRmlyc3QgY29sdW1uIGZvciByb3cgbGFiZWxzIChpZiB0aGV5IGV4aXN0KQogICAgICAgIGlmIChjb25maWcucm93TmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCByb3dMYWJlbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICByb3dMYWJlbENvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtbGFiZWwtY29sdW1uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEVtcHR5IGNvcm5lciBjZWxsIGlmIHdlIGhhdmUgY29sdW1uIG5hbWVzCiAgICAgICAgICAgIGlmIChjb25maWcuY29sTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgY29ybmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb3JuZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1jb3JuZXItY2VsbCc7CiAgICAgICAgICAgICAgICByb3dMYWJlbENvbHVtbi5hcHBlbmRDaGlsZChjb3JuZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgbGFiZWxzCiAgICAgICAgICAgIGNvbmZpZy5yb3dOYW1lcy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LXJvdy1sYWJlbCc7CiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gbmFtZTsKICAgICAgICAgICAgICAgIHJvd0xhYmVsQ29sdW1uLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93TGFiZWxDb2x1bW4pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgbWF0cml4IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCBhbGwgZGF0YSBjb2x1bW5zCiAgICAgICAgY29uc3QgbWF0cml4V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hdHJpeFdyYXBwZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1kYXRhLXdyYXBwZXInOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBjb2x1bW5zIGZvciBlYWNoIG1hdHJpeCBjb2x1bW4KICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29uZmlnLmNvbHM7IGNvbEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtZGF0YS1jb2x1bW4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sdW1uIGhlYWRlciBpZiBleGlzdHMKICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2xOYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LWNvbC1sYWJlbCc7CiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBjb25maWcuY29sTmFtZXNbY29sSW5kZXhdIHx8ICcnOwogICAgICAgICAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hdHJpeCB2YWx1ZXMKICAgICAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1lbGVtZW50JzsKICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21hdHJpeC1lbGVtZW50LXN0YXRpYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IHJvd1tjb2xJbmRleF0udG9GaXhlZChjb25maWcuZGlnaXRzKTsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5yb3cgPSByb3dJbmRleDsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5jb2wgPSBjb2xJbmRleDsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmlzU3RhdGljKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydERyYWdnaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChjZWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYXRyaXhXcmFwcGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQobWF0cml4V3JhcHBlcik7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChncmlkQ29udGFpbmVyKTsKCiAgICAgICAgdXBkYXRlTW9kZWwoKTsKICAgIH07CgogICAgZnVuY3Rpb24gdXBkYXRlTW9kZWwoKSB7CiAgICAgICAgbW9kZWwuc2V0KCJtYXRyaXgiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1hdHJpeCkpKTsgLy8gRGVlcCBjb3B5CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICB9OwoKICAgIGxldCB1cGRhdGVUaW1lb3V0OwogICAgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlTW9kZWwoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZVRpbWVvdXQpOwogICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZU1vZGVsLCAxMDApOyAvLyBEZWJvdW5jZSBmb3IgMTAwbXMKICAgIH07CgogICAgZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7CiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHBhcnNlRmxvYXQoZWxlbWVudC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LnJvdyk7CiAgICAgICAgY29uc3QgY29sID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCk7CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYOwogICAgICAgICAgICBjb25zdCBzdGVwcyA9IE1hdGguZmxvb3IoZGVsdGFYIC8gY29uZmlnLnBpeGVsc1BlclN0ZXApOwogICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGNvbmZpZy5taW5WYWx1ZSwgTWF0aC5taW4oY29uZmlnLm1heFZhbHVlLCBzdGFydFZhbHVlICsgc3RlcHMgKiBjb25maWcuc3RlcFNpemUpKTsKICAgICAgICAgICAgdXBkYXRlTWF0cml4VmFsdWUocm93LCBjb2wsIG5ld1ZhbHVlKTsKICAgICAgICAgICAgcmVuZGVyTWF0cml4KCk7CiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZU1vZGVsKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICAgICAgICAgIHVwZGF0ZU1vZGVsKCk7IC8vIEVuc3VyZSBmaW5hbCBzdGF0ZSBpcyB1cGRhdGVkCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFZhbHVlKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgIG1hdHJpeFtyb3ddW2NvbF0gPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoY29uZmlnLmRpZ2l0cykpOwogICAgICAgIGlmIChjb25maWcuaXNNaXJyb3JlZCAmJiAoY29sIDwgY29uZmlnLnJvd3MpICYmIChyb3cgPCBjb25maWcuY29scykpIHsKICAgICAgICAgICAgbWF0cml4W2NvbF1bcm93XSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChjb25maWcuZGlnaXRzKSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZW5kZXJNYXRyaXgoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;c0a0ef6530732d033b6cf1ebf099626d&quot;'></marimo-anywidget></marimo-ui-element></div>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "SFPL",
      "code_hash": "a3612a8b633bac0f9cfcf921951256f3",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"qr-a-qr\">QR: <marimo-tex class=\"arithmatex\">||(A = QR||)</marimo-tex></h2>\n<span class=\"paragraph\"><marimo-tex class=\"arithmatex\">||(Q||)</marimo-tex> is orthogonal, <marimo-tex class=\"arithmatex\">||(R||)</marimo-tex> is upper triangular. Used for solving least squares problems and computing eigenvalues.</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "BYtC",
      "code_hash": "a22979ae479bffec4502ea9bae9250b9",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<div style='display: flex;flex: 1;flex-direction: row;justify-content: flex-start;align-items: center;flex-wrap: nowrap;gap: 0.5rem'><marimo-ui-element object-id='BYtC-0' random-id='84a20936-d275-ee9e-6b6b-4dfa36d3ce02'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;c93830d282574838955a5e9bc5657e58&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHttb2RlbCwgZWx9KXsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICByb3dzOiBtb2RlbC5nZXQoInJvd3MiKSwKICAgICAgICBjb2xzOiBtb2RlbC5nZXQoImNvbHMiKSwKICAgICAgICBtaW5WYWx1ZTogbW9kZWwuZ2V0KCJtaW5fdmFsdWUiKSwKICAgICAgICBtYXhWYWx1ZTogbW9kZWwuZ2V0KCJtYXhfdmFsdWUiKSwKICAgICAgICBpc01pcnJvcmVkOiBtb2RlbC5nZXQoIm1pcnJvciIpLAogICAgICAgIHN0ZXBTaXplOiBtb2RlbC5nZXQoInN0ZXAiKSwKICAgICAgICBkaWdpdHM6IG1vZGVsLmdldCgiZGlnaXRzIiksCiAgICAgICAgcGl4ZWxzUGVyU3RlcDogMiwKICAgICAgICByb3dOYW1lczogbW9kZWwuZ2V0KCJyb3dfbmFtZXMiKSwKICAgICAgICBjb2xOYW1lczogbW9kZWwuZ2V0KCJjb2xfbmFtZXMiKSwKICAgICAgICBpc1N0YXRpYzogbW9kZWwuZ2V0KCJzdGF0aWMiKSwKICAgICAgICBmbGV4aWJsZUNvbHVtbnM6IG1vZGVsLmdldCgiZmxleGlibGVfY29scyIpCiAgICB9OwogICAgCiAgICBsZXQgbWF0cml4ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtb2RlbC5nZXQoIm1hdHJpeCIpKSk7IC8vIERlZXAgY29weQoKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgibWF0cml4LXdyYXBwZXIiKTsKICAgIGVsLmFwcGVuZENoaWxkKHdyYXBwZXIpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck1hdHJpeCgpIHsKICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBtYWluIGdyaWQgY29udGFpbmVyCiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGdyaWRDb250YWluZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1ncmlkJzsKICAgICAgICBpZiAoY29uZmlnLmZsZXhpYmxlQ29sdW1ucykgewogICAgICAgICAgICBncmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZXhpYmxlLWNvbHVtbnMnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gRmlyc3QgY29sdW1uIGZvciByb3cgbGFiZWxzIChpZiB0aGV5IGV4aXN0KQogICAgICAgIGlmIChjb25maWcucm93TmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCByb3dMYWJlbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICByb3dMYWJlbENvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtbGFiZWwtY29sdW1uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEVtcHR5IGNvcm5lciBjZWxsIGlmIHdlIGhhdmUgY29sdW1uIG5hbWVzCiAgICAgICAgICAgIGlmIChjb25maWcuY29sTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgY29ybmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb3JuZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1jb3JuZXItY2VsbCc7CiAgICAgICAgICAgICAgICByb3dMYWJlbENvbHVtbi5hcHBlbmRDaGlsZChjb3JuZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgbGFiZWxzCiAgICAgICAgICAgIGNvbmZpZy5yb3dOYW1lcy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LXJvdy1sYWJlbCc7CiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gbmFtZTsKICAgICAgICAgICAgICAgIHJvd0xhYmVsQ29sdW1uLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93TGFiZWxDb2x1bW4pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgbWF0cml4IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCBhbGwgZGF0YSBjb2x1bW5zCiAgICAgICAgY29uc3QgbWF0cml4V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hdHJpeFdyYXBwZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1kYXRhLXdyYXBwZXInOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBjb2x1bW5zIGZvciBlYWNoIG1hdHJpeCBjb2x1bW4KICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29uZmlnLmNvbHM7IGNvbEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtZGF0YS1jb2x1bW4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sdW1uIGhlYWRlciBpZiBleGlzdHMKICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2xOYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LWNvbC1sYWJlbCc7CiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBjb25maWcuY29sTmFtZXNbY29sSW5kZXhdIHx8ICcnOwogICAgICAgICAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hdHJpeCB2YWx1ZXMKICAgICAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1lbGVtZW50JzsKICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21hdHJpeC1lbGVtZW50LXN0YXRpYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IHJvd1tjb2xJbmRleF0udG9GaXhlZChjb25maWcuZGlnaXRzKTsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5yb3cgPSByb3dJbmRleDsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5jb2wgPSBjb2xJbmRleDsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmlzU3RhdGljKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydERyYWdnaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChjZWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYXRyaXhXcmFwcGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQobWF0cml4V3JhcHBlcik7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChncmlkQ29udGFpbmVyKTsKCiAgICAgICAgdXBkYXRlTW9kZWwoKTsKICAgIH07CgogICAgZnVuY3Rpb24gdXBkYXRlTW9kZWwoKSB7CiAgICAgICAgbW9kZWwuc2V0KCJtYXRyaXgiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1hdHJpeCkpKTsgLy8gRGVlcCBjb3B5CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICB9OwoKICAgIGxldCB1cGRhdGVUaW1lb3V0OwogICAgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlTW9kZWwoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZVRpbWVvdXQpOwogICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZU1vZGVsLCAxMDApOyAvLyBEZWJvdW5jZSBmb3IgMTAwbXMKICAgIH07CgogICAgZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7CiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHBhcnNlRmxvYXQoZWxlbWVudC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LnJvdyk7CiAgICAgICAgY29uc3QgY29sID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCk7CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYOwogICAgICAgICAgICBjb25zdCBzdGVwcyA9IE1hdGguZmxvb3IoZGVsdGFYIC8gY29uZmlnLnBpeGVsc1BlclN0ZXApOwogICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGNvbmZpZy5taW5WYWx1ZSwgTWF0aC5taW4oY29uZmlnLm1heFZhbHVlLCBzdGFydFZhbHVlICsgc3RlcHMgKiBjb25maWcuc3RlcFNpemUpKTsKICAgICAgICAgICAgdXBkYXRlTWF0cml4VmFsdWUocm93LCBjb2wsIG5ld1ZhbHVlKTsKICAgICAgICAgICAgcmVuZGVyTWF0cml4KCk7CiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZU1vZGVsKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICAgICAgICAgIHVwZGF0ZU1vZGVsKCk7IC8vIEVuc3VyZSBmaW5hbCBzdGF0ZSBpcyB1cGRhdGVkCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFZhbHVlKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgIG1hdHJpeFtyb3ddW2NvbF0gPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoY29uZmlnLmRpZ2l0cykpOwogICAgICAgIGlmIChjb25maWcuaXNNaXJyb3JlZCAmJiAoY29sIDwgY29uZmlnLnJvd3MpICYmIChyb3cgPCBjb25maWcuY29scykpIHsKICAgICAgICAgICAgbWF0cml4W2NvbF1bcm93XSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChjb25maWcuZGlnaXRzKSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZW5kZXJNYXRyaXgoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;c0a0ef6530732d033b6cf1ebf099626d&quot;'></marimo-anywidget></marimo-ui-element><span class=\"markdown prose dark:prose-invert contents\"><h1 id=\"_1\"><marimo-tex class=\"arithmatex\">||(=||)</marimo-tex></h1></span><marimo-ui-element object-id='BYtC-1' random-id='fef301f3-f56e-d55e-80fa-1f443f6772c5'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;404fc11070224237be78d077b5387b76&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHttb2RlbCwgZWx9KXsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICByb3dzOiBtb2RlbC5nZXQoInJvd3MiKSwKICAgICAgICBjb2xzOiBtb2RlbC5nZXQoImNvbHMiKSwKICAgICAgICBtaW5WYWx1ZTogbW9kZWwuZ2V0KCJtaW5fdmFsdWUiKSwKICAgICAgICBtYXhWYWx1ZTogbW9kZWwuZ2V0KCJtYXhfdmFsdWUiKSwKICAgICAgICBpc01pcnJvcmVkOiBtb2RlbC5nZXQoIm1pcnJvciIpLAogICAgICAgIHN0ZXBTaXplOiBtb2RlbC5nZXQoInN0ZXAiKSwKICAgICAgICBkaWdpdHM6IG1vZGVsLmdldCgiZGlnaXRzIiksCiAgICAgICAgcGl4ZWxzUGVyU3RlcDogMiwKICAgICAgICByb3dOYW1lczogbW9kZWwuZ2V0KCJyb3dfbmFtZXMiKSwKICAgICAgICBjb2xOYW1lczogbW9kZWwuZ2V0KCJjb2xfbmFtZXMiKSwKICAgICAgICBpc1N0YXRpYzogbW9kZWwuZ2V0KCJzdGF0aWMiKSwKICAgICAgICBmbGV4aWJsZUNvbHVtbnM6IG1vZGVsLmdldCgiZmxleGlibGVfY29scyIpCiAgICB9OwogICAgCiAgICBsZXQgbWF0cml4ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtb2RlbC5nZXQoIm1hdHJpeCIpKSk7IC8vIERlZXAgY29weQoKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgibWF0cml4LXdyYXBwZXIiKTsKICAgIGVsLmFwcGVuZENoaWxkKHdyYXBwZXIpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck1hdHJpeCgpIHsKICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBtYWluIGdyaWQgY29udGFpbmVyCiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGdyaWRDb250YWluZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1ncmlkJzsKICAgICAgICBpZiAoY29uZmlnLmZsZXhpYmxlQ29sdW1ucykgewogICAgICAgICAgICBncmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZXhpYmxlLWNvbHVtbnMnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gRmlyc3QgY29sdW1uIGZvciByb3cgbGFiZWxzIChpZiB0aGV5IGV4aXN0KQogICAgICAgIGlmIChjb25maWcucm93TmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCByb3dMYWJlbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICByb3dMYWJlbENvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtbGFiZWwtY29sdW1uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEVtcHR5IGNvcm5lciBjZWxsIGlmIHdlIGhhdmUgY29sdW1uIG5hbWVzCiAgICAgICAgICAgIGlmIChjb25maWcuY29sTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgY29ybmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb3JuZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1jb3JuZXItY2VsbCc7CiAgICAgICAgICAgICAgICByb3dMYWJlbENvbHVtbi5hcHBlbmRDaGlsZChjb3JuZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgbGFiZWxzCiAgICAgICAgICAgIGNvbmZpZy5yb3dOYW1lcy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LXJvdy1sYWJlbCc7CiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gbmFtZTsKICAgICAgICAgICAgICAgIHJvd0xhYmVsQ29sdW1uLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93TGFiZWxDb2x1bW4pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgbWF0cml4IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCBhbGwgZGF0YSBjb2x1bW5zCiAgICAgICAgY29uc3QgbWF0cml4V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hdHJpeFdyYXBwZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1kYXRhLXdyYXBwZXInOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBjb2x1bW5zIGZvciBlYWNoIG1hdHJpeCBjb2x1bW4KICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29uZmlnLmNvbHM7IGNvbEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtZGF0YS1jb2x1bW4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sdW1uIGhlYWRlciBpZiBleGlzdHMKICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2xOYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LWNvbC1sYWJlbCc7CiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBjb25maWcuY29sTmFtZXNbY29sSW5kZXhdIHx8ICcnOwogICAgICAgICAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hdHJpeCB2YWx1ZXMKICAgICAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1lbGVtZW50JzsKICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21hdHJpeC1lbGVtZW50LXN0YXRpYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IHJvd1tjb2xJbmRleF0udG9GaXhlZChjb25maWcuZGlnaXRzKTsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5yb3cgPSByb3dJbmRleDsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5jb2wgPSBjb2xJbmRleDsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmlzU3RhdGljKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydERyYWdnaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChjZWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYXRyaXhXcmFwcGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQobWF0cml4V3JhcHBlcik7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChncmlkQ29udGFpbmVyKTsKCiAgICAgICAgdXBkYXRlTW9kZWwoKTsKICAgIH07CgogICAgZnVuY3Rpb24gdXBkYXRlTW9kZWwoKSB7CiAgICAgICAgbW9kZWwuc2V0KCJtYXRyaXgiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1hdHJpeCkpKTsgLy8gRGVlcCBjb3B5CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICB9OwoKICAgIGxldCB1cGRhdGVUaW1lb3V0OwogICAgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlTW9kZWwoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZVRpbWVvdXQpOwogICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZU1vZGVsLCAxMDApOyAvLyBEZWJvdW5jZSBmb3IgMTAwbXMKICAgIH07CgogICAgZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7CiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHBhcnNlRmxvYXQoZWxlbWVudC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LnJvdyk7CiAgICAgICAgY29uc3QgY29sID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCk7CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYOwogICAgICAgICAgICBjb25zdCBzdGVwcyA9IE1hdGguZmxvb3IoZGVsdGFYIC8gY29uZmlnLnBpeGVsc1BlclN0ZXApOwogICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGNvbmZpZy5taW5WYWx1ZSwgTWF0aC5taW4oY29uZmlnLm1heFZhbHVlLCBzdGFydFZhbHVlICsgc3RlcHMgKiBjb25maWcuc3RlcFNpemUpKTsKICAgICAgICAgICAgdXBkYXRlTWF0cml4VmFsdWUocm93LCBjb2wsIG5ld1ZhbHVlKTsKICAgICAgICAgICAgcmVuZGVyTWF0cml4KCk7CiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZU1vZGVsKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICAgICAgICAgIHVwZGF0ZU1vZGVsKCk7IC8vIEVuc3VyZSBmaW5hbCBzdGF0ZSBpcyB1cGRhdGVkCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFZhbHVlKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgIG1hdHJpeFtyb3ddW2NvbF0gPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoY29uZmlnLmRpZ2l0cykpOwogICAgICAgIGlmIChjb25maWcuaXNNaXJyb3JlZCAmJiAoY29sIDwgY29uZmlnLnJvd3MpICYmIChyb3cgPCBjb25maWcuY29scykpIHsKICAgICAgICAgICAgbWF0cml4W2NvbF1bcm93XSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChjb25maWcuZGlnaXRzKSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZW5kZXJNYXRyaXgoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;c0a0ef6530732d033b6cf1ebf099626d&quot;'></marimo-anywidget></marimo-ui-element><span class=\"markdown prose dark:prose-invert contents\"><h1 id=\"times\"><marimo-tex class=\"arithmatex\">||(\\times||)</marimo-tex></h1></span><marimo-ui-element object-id='BYtC-2' random-id='0cf5a721-8f5e-02d8-6fbc-5914e70257fe'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;51e997ed6a184176b96cd754ef95cadb&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHttb2RlbCwgZWx9KXsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICByb3dzOiBtb2RlbC5nZXQoInJvd3MiKSwKICAgICAgICBjb2xzOiBtb2RlbC5nZXQoImNvbHMiKSwKICAgICAgICBtaW5WYWx1ZTogbW9kZWwuZ2V0KCJtaW5fdmFsdWUiKSwKICAgICAgICBtYXhWYWx1ZTogbW9kZWwuZ2V0KCJtYXhfdmFsdWUiKSwKICAgICAgICBpc01pcnJvcmVkOiBtb2RlbC5nZXQoIm1pcnJvciIpLAogICAgICAgIHN0ZXBTaXplOiBtb2RlbC5nZXQoInN0ZXAiKSwKICAgICAgICBkaWdpdHM6IG1vZGVsLmdldCgiZGlnaXRzIiksCiAgICAgICAgcGl4ZWxzUGVyU3RlcDogMiwKICAgICAgICByb3dOYW1lczogbW9kZWwuZ2V0KCJyb3dfbmFtZXMiKSwKICAgICAgICBjb2xOYW1lczogbW9kZWwuZ2V0KCJjb2xfbmFtZXMiKSwKICAgICAgICBpc1N0YXRpYzogbW9kZWwuZ2V0KCJzdGF0aWMiKSwKICAgICAgICBmbGV4aWJsZUNvbHVtbnM6IG1vZGVsLmdldCgiZmxleGlibGVfY29scyIpCiAgICB9OwogICAgCiAgICBsZXQgbWF0cml4ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtb2RlbC5nZXQoIm1hdHJpeCIpKSk7IC8vIERlZXAgY29weQoKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgibWF0cml4LXdyYXBwZXIiKTsKICAgIGVsLmFwcGVuZENoaWxkKHdyYXBwZXIpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck1hdHJpeCgpIHsKICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBtYWluIGdyaWQgY29udGFpbmVyCiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGdyaWRDb250YWluZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1ncmlkJzsKICAgICAgICBpZiAoY29uZmlnLmZsZXhpYmxlQ29sdW1ucykgewogICAgICAgICAgICBncmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZXhpYmxlLWNvbHVtbnMnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gRmlyc3QgY29sdW1uIGZvciByb3cgbGFiZWxzIChpZiB0aGV5IGV4aXN0KQogICAgICAgIGlmIChjb25maWcucm93TmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCByb3dMYWJlbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICByb3dMYWJlbENvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtbGFiZWwtY29sdW1uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEVtcHR5IGNvcm5lciBjZWxsIGlmIHdlIGhhdmUgY29sdW1uIG5hbWVzCiAgICAgICAgICAgIGlmIChjb25maWcuY29sTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgY29ybmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb3JuZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1jb3JuZXItY2VsbCc7CiAgICAgICAgICAgICAgICByb3dMYWJlbENvbHVtbi5hcHBlbmRDaGlsZChjb3JuZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgbGFiZWxzCiAgICAgICAgICAgIGNvbmZpZy5yb3dOYW1lcy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LXJvdy1sYWJlbCc7CiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gbmFtZTsKICAgICAgICAgICAgICAgIHJvd0xhYmVsQ29sdW1uLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93TGFiZWxDb2x1bW4pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgbWF0cml4IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCBhbGwgZGF0YSBjb2x1bW5zCiAgICAgICAgY29uc3QgbWF0cml4V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hdHJpeFdyYXBwZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1kYXRhLXdyYXBwZXInOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBjb2x1bW5zIGZvciBlYWNoIG1hdHJpeCBjb2x1bW4KICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29uZmlnLmNvbHM7IGNvbEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtZGF0YS1jb2x1bW4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sdW1uIGhlYWRlciBpZiBleGlzdHMKICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2xOYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LWNvbC1sYWJlbCc7CiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBjb25maWcuY29sTmFtZXNbY29sSW5kZXhdIHx8ICcnOwogICAgICAgICAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hdHJpeCB2YWx1ZXMKICAgICAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1lbGVtZW50JzsKICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21hdHJpeC1lbGVtZW50LXN0YXRpYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IHJvd1tjb2xJbmRleF0udG9GaXhlZChjb25maWcuZGlnaXRzKTsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5yb3cgPSByb3dJbmRleDsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5jb2wgPSBjb2xJbmRleDsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmlzU3RhdGljKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydERyYWdnaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChjZWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYXRyaXhXcmFwcGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQobWF0cml4V3JhcHBlcik7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChncmlkQ29udGFpbmVyKTsKCiAgICAgICAgdXBkYXRlTW9kZWwoKTsKICAgIH07CgogICAgZnVuY3Rpb24gdXBkYXRlTW9kZWwoKSB7CiAgICAgICAgbW9kZWwuc2V0KCJtYXRyaXgiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1hdHJpeCkpKTsgLy8gRGVlcCBjb3B5CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICB9OwoKICAgIGxldCB1cGRhdGVUaW1lb3V0OwogICAgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlTW9kZWwoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZVRpbWVvdXQpOwogICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZU1vZGVsLCAxMDApOyAvLyBEZWJvdW5jZSBmb3IgMTAwbXMKICAgIH07CgogICAgZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7CiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHBhcnNlRmxvYXQoZWxlbWVudC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LnJvdyk7CiAgICAgICAgY29uc3QgY29sID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCk7CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYOwogICAgICAgICAgICBjb25zdCBzdGVwcyA9IE1hdGguZmxvb3IoZGVsdGFYIC8gY29uZmlnLnBpeGVsc1BlclN0ZXApOwogICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGNvbmZpZy5taW5WYWx1ZSwgTWF0aC5taW4oY29uZmlnLm1heFZhbHVlLCBzdGFydFZhbHVlICsgc3RlcHMgKiBjb25maWcuc3RlcFNpemUpKTsKICAgICAgICAgICAgdXBkYXRlTWF0cml4VmFsdWUocm93LCBjb2wsIG5ld1ZhbHVlKTsKICAgICAgICAgICAgcmVuZGVyTWF0cml4KCk7CiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZU1vZGVsKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICAgICAgICAgIHVwZGF0ZU1vZGVsKCk7IC8vIEVuc3VyZSBmaW5hbCBzdGF0ZSBpcyB1cGRhdGVkCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFZhbHVlKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgIG1hdHJpeFtyb3ddW2NvbF0gPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoY29uZmlnLmRpZ2l0cykpOwogICAgICAgIGlmIChjb25maWcuaXNNaXJyb3JlZCAmJiAoY29sIDwgY29uZmlnLnJvd3MpICYmIChyb3cgPCBjb25maWcuY29scykpIHsKICAgICAgICAgICAgbWF0cml4W2NvbF1bcm93XSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChjb25maWcuZGlnaXRzKSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZW5kZXJNYXRyaXgoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;c0a0ef6530732d033b6cf1ebf099626d&quot;'></marimo-anywidget></marimo-ui-element></div>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "RGSE",
      "code_hash": "fe3214b845d894298cd00ef19d7a8b1c",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"lu-a-plu\">LU: <marimo-tex class=\"arithmatex\">||(A = PLU||)</marimo-tex></h2>\n<span class=\"paragraph\"><marimo-tex class=\"arithmatex\">||(P||)</marimo-tex> is a permutation matrix, <marimo-tex class=\"arithmatex\">||(L||)</marimo-tex> is lower triangular, <marimo-tex class=\"arithmatex\">||(U||)</marimo-tex> is upper triangular. Efficient for solving linear systems via forward/backward substitution.</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "Kclp",
      "code_hash": "b87d38514d235891b6cb1a5a62d5183e",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<div style='display: flex;flex: 1;flex-direction: row;justify-content: flex-start;align-items: center;flex-wrap: nowrap;gap: 0.5rem'><marimo-ui-element object-id='Kclp-0' random-id='fd4f051d-4203-df91-fd6e-f26540a02e33'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;ebd76b4a19734b42914b59995e269f9a&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHttb2RlbCwgZWx9KXsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICByb3dzOiBtb2RlbC5nZXQoInJvd3MiKSwKICAgICAgICBjb2xzOiBtb2RlbC5nZXQoImNvbHMiKSwKICAgICAgICBtaW5WYWx1ZTogbW9kZWwuZ2V0KCJtaW5fdmFsdWUiKSwKICAgICAgICBtYXhWYWx1ZTogbW9kZWwuZ2V0KCJtYXhfdmFsdWUiKSwKICAgICAgICBpc01pcnJvcmVkOiBtb2RlbC5nZXQoIm1pcnJvciIpLAogICAgICAgIHN0ZXBTaXplOiBtb2RlbC5nZXQoInN0ZXAiKSwKICAgICAgICBkaWdpdHM6IG1vZGVsLmdldCgiZGlnaXRzIiksCiAgICAgICAgcGl4ZWxzUGVyU3RlcDogMiwKICAgICAgICByb3dOYW1lczogbW9kZWwuZ2V0KCJyb3dfbmFtZXMiKSwKICAgICAgICBjb2xOYW1lczogbW9kZWwuZ2V0KCJjb2xfbmFtZXMiKSwKICAgICAgICBpc1N0YXRpYzogbW9kZWwuZ2V0KCJzdGF0aWMiKSwKICAgICAgICBmbGV4aWJsZUNvbHVtbnM6IG1vZGVsLmdldCgiZmxleGlibGVfY29scyIpCiAgICB9OwogICAgCiAgICBsZXQgbWF0cml4ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtb2RlbC5nZXQoIm1hdHJpeCIpKSk7IC8vIERlZXAgY29weQoKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgibWF0cml4LXdyYXBwZXIiKTsKICAgIGVsLmFwcGVuZENoaWxkKHdyYXBwZXIpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck1hdHJpeCgpIHsKICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBtYWluIGdyaWQgY29udGFpbmVyCiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGdyaWRDb250YWluZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1ncmlkJzsKICAgICAgICBpZiAoY29uZmlnLmZsZXhpYmxlQ29sdW1ucykgewogICAgICAgICAgICBncmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZXhpYmxlLWNvbHVtbnMnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gRmlyc3QgY29sdW1uIGZvciByb3cgbGFiZWxzIChpZiB0aGV5IGV4aXN0KQogICAgICAgIGlmIChjb25maWcucm93TmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCByb3dMYWJlbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICByb3dMYWJlbENvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtbGFiZWwtY29sdW1uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEVtcHR5IGNvcm5lciBjZWxsIGlmIHdlIGhhdmUgY29sdW1uIG5hbWVzCiAgICAgICAgICAgIGlmIChjb25maWcuY29sTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgY29ybmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb3JuZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1jb3JuZXItY2VsbCc7CiAgICAgICAgICAgICAgICByb3dMYWJlbENvbHVtbi5hcHBlbmRDaGlsZChjb3JuZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgbGFiZWxzCiAgICAgICAgICAgIGNvbmZpZy5yb3dOYW1lcy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LXJvdy1sYWJlbCc7CiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gbmFtZTsKICAgICAgICAgICAgICAgIHJvd0xhYmVsQ29sdW1uLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93TGFiZWxDb2x1bW4pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgbWF0cml4IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCBhbGwgZGF0YSBjb2x1bW5zCiAgICAgICAgY29uc3QgbWF0cml4V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hdHJpeFdyYXBwZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1kYXRhLXdyYXBwZXInOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBjb2x1bW5zIGZvciBlYWNoIG1hdHJpeCBjb2x1bW4KICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29uZmlnLmNvbHM7IGNvbEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtZGF0YS1jb2x1bW4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sdW1uIGhlYWRlciBpZiBleGlzdHMKICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2xOYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LWNvbC1sYWJlbCc7CiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBjb25maWcuY29sTmFtZXNbY29sSW5kZXhdIHx8ICcnOwogICAgICAgICAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hdHJpeCB2YWx1ZXMKICAgICAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1lbGVtZW50JzsKICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21hdHJpeC1lbGVtZW50LXN0YXRpYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IHJvd1tjb2xJbmRleF0udG9GaXhlZChjb25maWcuZGlnaXRzKTsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5yb3cgPSByb3dJbmRleDsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5jb2wgPSBjb2xJbmRleDsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmlzU3RhdGljKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydERyYWdnaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChjZWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYXRyaXhXcmFwcGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQobWF0cml4V3JhcHBlcik7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChncmlkQ29udGFpbmVyKTsKCiAgICAgICAgdXBkYXRlTW9kZWwoKTsKICAgIH07CgogICAgZnVuY3Rpb24gdXBkYXRlTW9kZWwoKSB7CiAgICAgICAgbW9kZWwuc2V0KCJtYXRyaXgiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1hdHJpeCkpKTsgLy8gRGVlcCBjb3B5CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICB9OwoKICAgIGxldCB1cGRhdGVUaW1lb3V0OwogICAgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlTW9kZWwoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZVRpbWVvdXQpOwogICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZU1vZGVsLCAxMDApOyAvLyBEZWJvdW5jZSBmb3IgMTAwbXMKICAgIH07CgogICAgZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7CiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHBhcnNlRmxvYXQoZWxlbWVudC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LnJvdyk7CiAgICAgICAgY29uc3QgY29sID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCk7CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYOwogICAgICAgICAgICBjb25zdCBzdGVwcyA9IE1hdGguZmxvb3IoZGVsdGFYIC8gY29uZmlnLnBpeGVsc1BlclN0ZXApOwogICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGNvbmZpZy5taW5WYWx1ZSwgTWF0aC5taW4oY29uZmlnLm1heFZhbHVlLCBzdGFydFZhbHVlICsgc3RlcHMgKiBjb25maWcuc3RlcFNpemUpKTsKICAgICAgICAgICAgdXBkYXRlTWF0cml4VmFsdWUocm93LCBjb2wsIG5ld1ZhbHVlKTsKICAgICAgICAgICAgcmVuZGVyTWF0cml4KCk7CiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZU1vZGVsKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICAgICAgICAgIHVwZGF0ZU1vZGVsKCk7IC8vIEVuc3VyZSBmaW5hbCBzdGF0ZSBpcyB1cGRhdGVkCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFZhbHVlKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgIG1hdHJpeFtyb3ddW2NvbF0gPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoY29uZmlnLmRpZ2l0cykpOwogICAgICAgIGlmIChjb25maWcuaXNNaXJyb3JlZCAmJiAoY29sIDwgY29uZmlnLnJvd3MpICYmIChyb3cgPCBjb25maWcuY29scykpIHsKICAgICAgICAgICAgbWF0cml4W2NvbF1bcm93XSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChjb25maWcuZGlnaXRzKSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZW5kZXJNYXRyaXgoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;c0a0ef6530732d033b6cf1ebf099626d&quot;'></marimo-anywidget></marimo-ui-element><span class=\"markdown prose dark:prose-invert contents\"><h1 id=\"_1\"><marimo-tex class=\"arithmatex\">||(=||)</marimo-tex></h1></span><marimo-ui-element object-id='Kclp-1' random-id='3673118f-6f5e-da9d-cf01-6ad38ae9c796'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;b510bcc3985d461cb848c39f64c7fc6a&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHttb2RlbCwgZWx9KXsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICByb3dzOiBtb2RlbC5nZXQoInJvd3MiKSwKICAgICAgICBjb2xzOiBtb2RlbC5nZXQoImNvbHMiKSwKICAgICAgICBtaW5WYWx1ZTogbW9kZWwuZ2V0KCJtaW5fdmFsdWUiKSwKICAgICAgICBtYXhWYWx1ZTogbW9kZWwuZ2V0KCJtYXhfdmFsdWUiKSwKICAgICAgICBpc01pcnJvcmVkOiBtb2RlbC5nZXQoIm1pcnJvciIpLAogICAgICAgIHN0ZXBTaXplOiBtb2RlbC5nZXQoInN0ZXAiKSwKICAgICAgICBkaWdpdHM6IG1vZGVsLmdldCgiZGlnaXRzIiksCiAgICAgICAgcGl4ZWxzUGVyU3RlcDogMiwKICAgICAgICByb3dOYW1lczogbW9kZWwuZ2V0KCJyb3dfbmFtZXMiKSwKICAgICAgICBjb2xOYW1lczogbW9kZWwuZ2V0KCJjb2xfbmFtZXMiKSwKICAgICAgICBpc1N0YXRpYzogbW9kZWwuZ2V0KCJzdGF0aWMiKSwKICAgICAgICBmbGV4aWJsZUNvbHVtbnM6IG1vZGVsLmdldCgiZmxleGlibGVfY29scyIpCiAgICB9OwogICAgCiAgICBsZXQgbWF0cml4ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtb2RlbC5nZXQoIm1hdHJpeCIpKSk7IC8vIERlZXAgY29weQoKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgibWF0cml4LXdyYXBwZXIiKTsKICAgIGVsLmFwcGVuZENoaWxkKHdyYXBwZXIpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck1hdHJpeCgpIHsKICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBtYWluIGdyaWQgY29udGFpbmVyCiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGdyaWRDb250YWluZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1ncmlkJzsKICAgICAgICBpZiAoY29uZmlnLmZsZXhpYmxlQ29sdW1ucykgewogICAgICAgICAgICBncmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZXhpYmxlLWNvbHVtbnMnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gRmlyc3QgY29sdW1uIGZvciByb3cgbGFiZWxzIChpZiB0aGV5IGV4aXN0KQogICAgICAgIGlmIChjb25maWcucm93TmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCByb3dMYWJlbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICByb3dMYWJlbENvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtbGFiZWwtY29sdW1uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEVtcHR5IGNvcm5lciBjZWxsIGlmIHdlIGhhdmUgY29sdW1uIG5hbWVzCiAgICAgICAgICAgIGlmIChjb25maWcuY29sTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgY29ybmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb3JuZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1jb3JuZXItY2VsbCc7CiAgICAgICAgICAgICAgICByb3dMYWJlbENvbHVtbi5hcHBlbmRDaGlsZChjb3JuZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgbGFiZWxzCiAgICAgICAgICAgIGNvbmZpZy5yb3dOYW1lcy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LXJvdy1sYWJlbCc7CiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gbmFtZTsKICAgICAgICAgICAgICAgIHJvd0xhYmVsQ29sdW1uLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93TGFiZWxDb2x1bW4pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgbWF0cml4IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCBhbGwgZGF0YSBjb2x1bW5zCiAgICAgICAgY29uc3QgbWF0cml4V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hdHJpeFdyYXBwZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1kYXRhLXdyYXBwZXInOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBjb2x1bW5zIGZvciBlYWNoIG1hdHJpeCBjb2x1bW4KICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29uZmlnLmNvbHM7IGNvbEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtZGF0YS1jb2x1bW4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sdW1uIGhlYWRlciBpZiBleGlzdHMKICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2xOYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LWNvbC1sYWJlbCc7CiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBjb25maWcuY29sTmFtZXNbY29sSW5kZXhdIHx8ICcnOwogICAgICAgICAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hdHJpeCB2YWx1ZXMKICAgICAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1lbGVtZW50JzsKICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21hdHJpeC1lbGVtZW50LXN0YXRpYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IHJvd1tjb2xJbmRleF0udG9GaXhlZChjb25maWcuZGlnaXRzKTsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5yb3cgPSByb3dJbmRleDsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5jb2wgPSBjb2xJbmRleDsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmlzU3RhdGljKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydERyYWdnaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChjZWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYXRyaXhXcmFwcGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQobWF0cml4V3JhcHBlcik7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChncmlkQ29udGFpbmVyKTsKCiAgICAgICAgdXBkYXRlTW9kZWwoKTsKICAgIH07CgogICAgZnVuY3Rpb24gdXBkYXRlTW9kZWwoKSB7CiAgICAgICAgbW9kZWwuc2V0KCJtYXRyaXgiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1hdHJpeCkpKTsgLy8gRGVlcCBjb3B5CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICB9OwoKICAgIGxldCB1cGRhdGVUaW1lb3V0OwogICAgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlTW9kZWwoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZVRpbWVvdXQpOwogICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZU1vZGVsLCAxMDApOyAvLyBEZWJvdW5jZSBmb3IgMTAwbXMKICAgIH07CgogICAgZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7CiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHBhcnNlRmxvYXQoZWxlbWVudC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LnJvdyk7CiAgICAgICAgY29uc3QgY29sID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCk7CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYOwogICAgICAgICAgICBjb25zdCBzdGVwcyA9IE1hdGguZmxvb3IoZGVsdGFYIC8gY29uZmlnLnBpeGVsc1BlclN0ZXApOwogICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGNvbmZpZy5taW5WYWx1ZSwgTWF0aC5taW4oY29uZmlnLm1heFZhbHVlLCBzdGFydFZhbHVlICsgc3RlcHMgKiBjb25maWcuc3RlcFNpemUpKTsKICAgICAgICAgICAgdXBkYXRlTWF0cml4VmFsdWUocm93LCBjb2wsIG5ld1ZhbHVlKTsKICAgICAgICAgICAgcmVuZGVyTWF0cml4KCk7CiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZU1vZGVsKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICAgICAgICAgIHVwZGF0ZU1vZGVsKCk7IC8vIEVuc3VyZSBmaW5hbCBzdGF0ZSBpcyB1cGRhdGVkCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFZhbHVlKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgIG1hdHJpeFtyb3ddW2NvbF0gPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoY29uZmlnLmRpZ2l0cykpOwogICAgICAgIGlmIChjb25maWcuaXNNaXJyb3JlZCAmJiAoY29sIDwgY29uZmlnLnJvd3MpICYmIChyb3cgPCBjb25maWcuY29scykpIHsKICAgICAgICAgICAgbWF0cml4W2NvbF1bcm93XSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChjb25maWcuZGlnaXRzKSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZW5kZXJNYXRyaXgoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;c0a0ef6530732d033b6cf1ebf099626d&quot;'></marimo-anywidget></marimo-ui-element><span class=\"markdown prose dark:prose-invert contents\"><h1 id=\"times\"><marimo-tex class=\"arithmatex\">||(\\times||)</marimo-tex></h1></span><marimo-ui-element object-id='Kclp-2' random-id='5c9b13c9-460f-d3a8-2b5a-077eafcfe177'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;e0d101b49df44a3bade20e245d5f44b0&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHttb2RlbCwgZWx9KXsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICByb3dzOiBtb2RlbC5nZXQoInJvd3MiKSwKICAgICAgICBjb2xzOiBtb2RlbC5nZXQoImNvbHMiKSwKICAgICAgICBtaW5WYWx1ZTogbW9kZWwuZ2V0KCJtaW5fdmFsdWUiKSwKICAgICAgICBtYXhWYWx1ZTogbW9kZWwuZ2V0KCJtYXhfdmFsdWUiKSwKICAgICAgICBpc01pcnJvcmVkOiBtb2RlbC5nZXQoIm1pcnJvciIpLAogICAgICAgIHN0ZXBTaXplOiBtb2RlbC5nZXQoInN0ZXAiKSwKICAgICAgICBkaWdpdHM6IG1vZGVsLmdldCgiZGlnaXRzIiksCiAgICAgICAgcGl4ZWxzUGVyU3RlcDogMiwKICAgICAgICByb3dOYW1lczogbW9kZWwuZ2V0KCJyb3dfbmFtZXMiKSwKICAgICAgICBjb2xOYW1lczogbW9kZWwuZ2V0KCJjb2xfbmFtZXMiKSwKICAgICAgICBpc1N0YXRpYzogbW9kZWwuZ2V0KCJzdGF0aWMiKSwKICAgICAgICBmbGV4aWJsZUNvbHVtbnM6IG1vZGVsLmdldCgiZmxleGlibGVfY29scyIpCiAgICB9OwogICAgCiAgICBsZXQgbWF0cml4ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtb2RlbC5nZXQoIm1hdHJpeCIpKSk7IC8vIERlZXAgY29weQoKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgibWF0cml4LXdyYXBwZXIiKTsKICAgIGVsLmFwcGVuZENoaWxkKHdyYXBwZXIpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck1hdHJpeCgpIHsKICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBtYWluIGdyaWQgY29udGFpbmVyCiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGdyaWRDb250YWluZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1ncmlkJzsKICAgICAgICBpZiAoY29uZmlnLmZsZXhpYmxlQ29sdW1ucykgewogICAgICAgICAgICBncmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZXhpYmxlLWNvbHVtbnMnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gRmlyc3QgY29sdW1uIGZvciByb3cgbGFiZWxzIChpZiB0aGV5IGV4aXN0KQogICAgICAgIGlmIChjb25maWcucm93TmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCByb3dMYWJlbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICByb3dMYWJlbENvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtbGFiZWwtY29sdW1uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEVtcHR5IGNvcm5lciBjZWxsIGlmIHdlIGhhdmUgY29sdW1uIG5hbWVzCiAgICAgICAgICAgIGlmIChjb25maWcuY29sTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgY29ybmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb3JuZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1jb3JuZXItY2VsbCc7CiAgICAgICAgICAgICAgICByb3dMYWJlbENvbHVtbi5hcHBlbmRDaGlsZChjb3JuZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgbGFiZWxzCiAgICAgICAgICAgIGNvbmZpZy5yb3dOYW1lcy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LXJvdy1sYWJlbCc7CiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gbmFtZTsKICAgICAgICAgICAgICAgIHJvd0xhYmVsQ29sdW1uLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93TGFiZWxDb2x1bW4pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgbWF0cml4IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCBhbGwgZGF0YSBjb2x1bW5zCiAgICAgICAgY29uc3QgbWF0cml4V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hdHJpeFdyYXBwZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1kYXRhLXdyYXBwZXInOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBjb2x1bW5zIGZvciBlYWNoIG1hdHJpeCBjb2x1bW4KICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29uZmlnLmNvbHM7IGNvbEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtZGF0YS1jb2x1bW4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sdW1uIGhlYWRlciBpZiBleGlzdHMKICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2xOYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LWNvbC1sYWJlbCc7CiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBjb25maWcuY29sTmFtZXNbY29sSW5kZXhdIHx8ICcnOwogICAgICAgICAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hdHJpeCB2YWx1ZXMKICAgICAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1lbGVtZW50JzsKICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21hdHJpeC1lbGVtZW50LXN0YXRpYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IHJvd1tjb2xJbmRleF0udG9GaXhlZChjb25maWcuZGlnaXRzKTsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5yb3cgPSByb3dJbmRleDsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5jb2wgPSBjb2xJbmRleDsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmlzU3RhdGljKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydERyYWdnaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChjZWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYXRyaXhXcmFwcGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQobWF0cml4V3JhcHBlcik7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChncmlkQ29udGFpbmVyKTsKCiAgICAgICAgdXBkYXRlTW9kZWwoKTsKICAgIH07CgogICAgZnVuY3Rpb24gdXBkYXRlTW9kZWwoKSB7CiAgICAgICAgbW9kZWwuc2V0KCJtYXRyaXgiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1hdHJpeCkpKTsgLy8gRGVlcCBjb3B5CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICB9OwoKICAgIGxldCB1cGRhdGVUaW1lb3V0OwogICAgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlTW9kZWwoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZVRpbWVvdXQpOwogICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZU1vZGVsLCAxMDApOyAvLyBEZWJvdW5jZSBmb3IgMTAwbXMKICAgIH07CgogICAgZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7CiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHBhcnNlRmxvYXQoZWxlbWVudC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LnJvdyk7CiAgICAgICAgY29uc3QgY29sID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCk7CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYOwogICAgICAgICAgICBjb25zdCBzdGVwcyA9IE1hdGguZmxvb3IoZGVsdGFYIC8gY29uZmlnLnBpeGVsc1BlclN0ZXApOwogICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGNvbmZpZy5taW5WYWx1ZSwgTWF0aC5taW4oY29uZmlnLm1heFZhbHVlLCBzdGFydFZhbHVlICsgc3RlcHMgKiBjb25maWcuc3RlcFNpemUpKTsKICAgICAgICAgICAgdXBkYXRlTWF0cml4VmFsdWUocm93LCBjb2wsIG5ld1ZhbHVlKTsKICAgICAgICAgICAgcmVuZGVyTWF0cml4KCk7CiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZU1vZGVsKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICAgICAgICAgIHVwZGF0ZU1vZGVsKCk7IC8vIEVuc3VyZSBmaW5hbCBzdGF0ZSBpcyB1cGRhdGVkCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFZhbHVlKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgIG1hdHJpeFtyb3ddW2NvbF0gPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoY29uZmlnLmRpZ2l0cykpOwogICAgICAgIGlmIChjb25maWcuaXNNaXJyb3JlZCAmJiAoY29sIDwgY29uZmlnLnJvd3MpICYmIChyb3cgPCBjb25maWcuY29scykpIHsKICAgICAgICAgICAgbWF0cml4W2NvbF1bcm93XSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChjb25maWcuZGlnaXRzKSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZW5kZXJNYXRyaXgoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;c0a0ef6530732d033b6cf1ebf099626d&quot;'></marimo-anywidget></marimo-ui-element><span class=\"markdown prose dark:prose-invert contents\"><h1 id=\"times\"><marimo-tex class=\"arithmatex\">||(\\times||)</marimo-tex></h1></span><marimo-ui-element object-id='Kclp-3' random-id='6927e151-dcc7-0e42-0f75-47e780137f83'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;5dee4bd152b34619b44e0ff2e2c5ee4e&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHttb2RlbCwgZWx9KXsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICByb3dzOiBtb2RlbC5nZXQoInJvd3MiKSwKICAgICAgICBjb2xzOiBtb2RlbC5nZXQoImNvbHMiKSwKICAgICAgICBtaW5WYWx1ZTogbW9kZWwuZ2V0KCJtaW5fdmFsdWUiKSwKICAgICAgICBtYXhWYWx1ZTogbW9kZWwuZ2V0KCJtYXhfdmFsdWUiKSwKICAgICAgICBpc01pcnJvcmVkOiBtb2RlbC5nZXQoIm1pcnJvciIpLAogICAgICAgIHN0ZXBTaXplOiBtb2RlbC5nZXQoInN0ZXAiKSwKICAgICAgICBkaWdpdHM6IG1vZGVsLmdldCgiZGlnaXRzIiksCiAgICAgICAgcGl4ZWxzUGVyU3RlcDogMiwKICAgICAgICByb3dOYW1lczogbW9kZWwuZ2V0KCJyb3dfbmFtZXMiKSwKICAgICAgICBjb2xOYW1lczogbW9kZWwuZ2V0KCJjb2xfbmFtZXMiKSwKICAgICAgICBpc1N0YXRpYzogbW9kZWwuZ2V0KCJzdGF0aWMiKSwKICAgICAgICBmbGV4aWJsZUNvbHVtbnM6IG1vZGVsLmdldCgiZmxleGlibGVfY29scyIpCiAgICB9OwogICAgCiAgICBsZXQgbWF0cml4ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtb2RlbC5nZXQoIm1hdHJpeCIpKSk7IC8vIERlZXAgY29weQoKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgibWF0cml4LXdyYXBwZXIiKTsKICAgIGVsLmFwcGVuZENoaWxkKHdyYXBwZXIpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck1hdHJpeCgpIHsKICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBtYWluIGdyaWQgY29udGFpbmVyCiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGdyaWRDb250YWluZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1ncmlkJzsKICAgICAgICBpZiAoY29uZmlnLmZsZXhpYmxlQ29sdW1ucykgewogICAgICAgICAgICBncmlkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZsZXhpYmxlLWNvbHVtbnMnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gRmlyc3QgY29sdW1uIGZvciByb3cgbGFiZWxzIChpZiB0aGV5IGV4aXN0KQogICAgICAgIGlmIChjb25maWcucm93TmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBjb25zdCByb3dMYWJlbENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICByb3dMYWJlbENvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtbGFiZWwtY29sdW1uJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEVtcHR5IGNvcm5lciBjZWxsIGlmIHdlIGhhdmUgY29sdW1uIG5hbWVzCiAgICAgICAgICAgIGlmIChjb25maWcuY29sTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY29uc3QgY29ybmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBjb3JuZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1jb3JuZXItY2VsbCc7CiAgICAgICAgICAgICAgICByb3dMYWJlbENvbHVtbi5hcHBlbmRDaGlsZChjb3JuZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBSb3cgbGFiZWxzCiAgICAgICAgICAgIGNvbmZpZy5yb3dOYW1lcy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LXJvdy1sYWJlbCc7CiAgICAgICAgICAgICAgICBjZWxsLnRleHRDb250ZW50ID0gbmFtZTsKICAgICAgICAgICAgICAgIHJvd0xhYmVsQ29sdW1uLmFwcGVuZENoaWxkKGNlbGwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQocm93TGFiZWxDb2x1bW4pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDcmVhdGUgbWF0cml4IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCBhbGwgZGF0YSBjb2x1bW5zCiAgICAgICAgY29uc3QgbWF0cml4V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIG1hdHJpeFdyYXBwZXIuY2xhc3NOYW1lID0gJ21hdHJpeC1kYXRhLXdyYXBwZXInOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBjb2x1bW5zIGZvciBlYWNoIG1hdHJpeCBjb2x1bW4KICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29uZmlnLmNvbHM7IGNvbEluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSAnbWF0cml4LWNvbHVtbiBtYXRyaXgtZGF0YS1jb2x1bW4nOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ29sdW1uIGhlYWRlciBpZiBleGlzdHMKICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2xOYW1lcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc05hbWUgPSAnbWF0cml4LWNlbGwgbWF0cml4LWNvbC1sYWJlbCc7CiAgICAgICAgICAgICAgICBoZWFkZXIudGV4dENvbnRlbnQgPSBjb25maWcuY29sTmFtZXNbY29sSW5kZXhdIHx8ICcnOwogICAgICAgICAgICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hdHJpeCB2YWx1ZXMKICAgICAgICAgICAgbWF0cml4LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ21hdHJpeC1jZWxsIG1hdHJpeC1lbGVtZW50JzsKICAgICAgICAgICAgICAgIGlmIChjb25maWcuaXNTdGF0aWMpIHsKICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ21hdHJpeC1lbGVtZW50LXN0YXRpYycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2VsbC50ZXh0Q29udGVudCA9IHJvd1tjb2xJbmRleF0udG9GaXhlZChjb25maWcuZGlnaXRzKTsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5yb3cgPSByb3dJbmRleDsKICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC5jb2wgPSBjb2xJbmRleDsKICAgICAgICAgICAgICAgIGlmICghY29uZmlnLmlzU3RhdGljKSB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdGFydERyYWdnaW5nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbHVtbi5hcHBlbmRDaGlsZChjZWxsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBtYXRyaXhXcmFwcGVyLmFwcGVuZENoaWxkKGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGdyaWRDb250YWluZXIuYXBwZW5kQ2hpbGQobWF0cml4V3JhcHBlcik7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChncmlkQ29udGFpbmVyKTsKCiAgICAgICAgdXBkYXRlTW9kZWwoKTsKICAgIH07CgogICAgZnVuY3Rpb24gdXBkYXRlTW9kZWwoKSB7CiAgICAgICAgbW9kZWwuc2V0KCJtYXRyaXgiLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1hdHJpeCkpKTsgLy8gRGVlcCBjb3B5CiAgICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7CiAgICB9OwoKICAgIGxldCB1cGRhdGVUaW1lb3V0OwogICAgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlTW9kZWwoKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHVwZGF0ZVRpbWVvdXQpOwogICAgICAgIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZU1vZGVsLCAxMDApOyAvLyBEZWJvdW5jZSBmb3IgMTAwbXMKICAgIH07CgogICAgZnVuY3Rpb24gc3RhcnREcmFnZ2luZyhlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgICBjb25zdCBzdGFydFggPSBlLmNsaWVudFg7CiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHBhcnNlRmxvYXQoZWxlbWVudC50ZXh0Q29udGVudCk7CiAgICAgICAgY29uc3Qgcm93ID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LnJvdyk7CiAgICAgICAgY29uc3QgY29sID0gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCk7CgogICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gc3RhcnRYOwogICAgICAgICAgICBjb25zdCBzdGVwcyA9IE1hdGguZmxvb3IoZGVsdGFYIC8gY29uZmlnLnBpeGVsc1BlclN0ZXApOwogICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGNvbmZpZy5taW5WYWx1ZSwgTWF0aC5taW4oY29uZmlnLm1heFZhbHVlLCBzdGFydFZhbHVlICsgc3RlcHMgKiBjb25maWcuc3RlcFNpemUpKTsKICAgICAgICAgICAgdXBkYXRlTWF0cml4VmFsdWUocm93LCBjb2wsIG5ld1ZhbHVlKTsKICAgICAgICAgICAgcmVuZGVyTWF0cml4KCk7CiAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZU1vZGVsKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTsKICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICAgICAgICAgIHVwZGF0ZU1vZGVsKCk7IC8vIEVuc3VyZSBmaW5hbCBzdGF0ZSBpcyB1cGRhdGVkCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFZhbHVlKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgIG1hdHJpeFtyb3ddW2NvbF0gPSBwYXJzZUZsb2F0KHZhbHVlLnRvRml4ZWQoY29uZmlnLmRpZ2l0cykpOwogICAgICAgIGlmIChjb25maWcuaXNNaXJyb3JlZCAmJiAoY29sIDwgY29uZmlnLnJvd3MpICYmIChyb3cgPCBjb25maWcuY29scykpIHsKICAgICAgICAgICAgbWF0cml4W2NvbF1bcm93XSA9IHBhcnNlRmxvYXQodmFsdWUudG9GaXhlZChjb25maWcuZGlnaXRzKSk7CiAgICAgICAgfQogICAgfTsKCiAgICByZW5kZXJNYXRyaXgoKTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;c0a0ef6530732d033b6cf1ebf099626d&quot;'></marimo-anywidget></marimo-ui-element></div>"
          }
        }
      ],
      "console": []
    }
  ]
}