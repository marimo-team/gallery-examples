{
  "version": "1",
  "metadata": {
    "marimo_version": "0.19.11"
  },
  "cells": [
    {
      "id": "Hbol",
      "code_hash": "451164810a06adbf7527bf6734f500d5",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "MJUe",
      "code_hash": "7f1f9f4acc41ced648ecfe1c0922f88e",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><span class=\"paragraph\">This notebook is a response to <a href=\"https://www.youtube.com/watch?v=iSNsgj1OCLA\" rel=\"noopener noreferrer\" target=\"_blank\">this popular Veritasium video</a>. It's a great video that's certainly worth a watch, but we felt that an interactive notebook let's you explore the problem in a way that a video never could. So here goes:</span>\n<h1 id=\"the-100-prisoners-riddle\">The 100 Prisoners Riddle</h1>\n<span class=\"paragraph\">Prisoners are numbered 1 to <marimo-tex class=\"arithmatex\">||(N||)</marimo-tex>. In a room, <marimo-tex class=\"arithmatex\">||(N||)</marimo-tex> boxes each contain a slip with a random prisoner's number.\nEach prisoner can open at most <marimo-tex class=\"arithmatex\">||(K||)</marimo-tex> boxes to find their own number. If <strong>all</strong> prisoners succeed, they go free. Otherwise they do not.</span>\n<span class=\"paragraph\">So what strategy could you apply here?</span>\n<span class=\"paragraph\"><strong>The clever strategy:</strong> Prisoner <marimo-tex class=\"arithmatex\">||(i||)</marimo-tex> starts at box <marimo-tex class=\"arithmatex\">||(i||)</marimo-tex>, then follows the chain (if box <marimo-tex class=\"arithmatex\">||(i||)</marimo-tex> contains <marimo-tex class=\"arithmatex\">||(j||)</marimo-tex>, open box <marimo-tex class=\"arithmatex\">||(j||)</marimo-tex> next). This works because permutations form cycles \u2014 a prisoner fails only if they're in a cycle longer than <marimo-tex class=\"arithmatex\">||(K||)</marimo-tex>.</span>\n<span class=\"paragraph\">To highlight this, feel free to toy around with the graph simulation below to convince yourself of this. Each node represents a box. Arrows show where each box points. Cycles are colored \u2014 <strong>red cycles are longer than <marimo-tex class=\"arithmatex\">||(K||)</marimo-tex></strong> (representing failure!).</span>\n<span class=\"paragraph\">You can also change the number of prisoners and the number of boxes to open if you want to play around and get a feel of the influence of these numbers.</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "vblA",
      "code_hash": "1358d449f2ddfb2215e8eac85b59b968",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><marimo-ui-element object-id='vblA-0' random-id='d221d2eb-7575-8491-fc2b-71b98a54427a'><marimo-number data-initial-value='100' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert contents&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Number of prisoners&lt;/span&gt;&lt;/span&gt;&quot;' data-start='10' data-stop='200' data-step='10' data-debounce='false' data-full-width='false' data-disabled='false'></marimo-number></marimo-ui-element><marimo-ui-element object-id='vblA-1' random-id='0a007a19-d1a3-b4a3-f721-5db1cfa4f9ff'><marimo-number data-initial-value='50' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert contents&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;Max boxes to open&lt;/span&gt;&lt;/span&gt;&quot;' data-start='5' data-stop='100' data-step='5' data-debounce='false' data-full-width='false' data-disabled='false'></marimo-number></marimo-ui-element></div>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "bkHC",
      "code_hash": "6b14b3c956cb37893c9e183a7a4624c4",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "lEQa",
      "code_hash": "a84df859627c729a6bd13fb8b4b962ab",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "PKri",
      "code_hash": "3f4a9cf783e203dd42e8258879689b15",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='lEQa-0' random-id='6819e181-0939-8361-13a2-f340a544d9f7'><marimo-button data-initial-value='0' data-label='&quot;&lt;span class=&#92;&quot;markdown prose dark:prose-invert contents&#92;&quot;&gt;&lt;span class=&#92;&quot;paragraph&#92;&quot;&gt;\ud83c\udfb2 New Random Arrangement&lt;/span&gt;&lt;/span&gt;&quot;' data-kind='&quot;neutral&quot;' data-disabled='false' data-full-width='false'></marimo-button></marimo-ui-element>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "Xref",
      "code_hash": "add50d7d9d7fa5d54122f5aa7c8a3b0f",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "SFPL",
      "code_hash": "a7af5e18cfd4078abee41d454e877174",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "BYtC",
      "code_hash": "1d35b035a6be84ed506c80af7da08343",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "RGSE",
      "code_hash": "f63fc32db538f86b8cea67bd1afb445d",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='RGSE-0' random-id='df7f1da4-76a0-c26f-6d62-7465d9e31c90'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;f0871a9f92d24818a2678770117fa1f7&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,CiAgICBpbXBvcnQgKiBhcyBkMyBmcm9tICJodHRwczovL2VzbS5zaC9kM0A3IjsKCiAgICBmdW5jdGlvbiByZW5kZXIoeyBtb2RlbCwgZWwgfSkgewogICAgICAgIGNvbnN0IHdpZHRoID0gODAwOwogICAgICAgIGNvbnN0IGhlaWdodCA9IDYwMDsKCiAgICAgICAgLy8gQ3JlYXRlIFNWRwogICAgICAgIGNvbnN0IHN2ZyA9IGQzLnNlbGVjdChlbCkKICAgICAgICAgICAgLmFwcGVuZCgic3ZnIikKICAgICAgICAgICAgLmF0dHIoIndpZHRoIiwgd2lkdGgpCiAgICAgICAgICAgIC5hdHRyKCJoZWlnaHQiLCBoZWlnaHQpCiAgICAgICAgICAgIC5hdHRyKCJ2aWV3Qm94IiwgWzAsIDAsIHdpZHRoLCBoZWlnaHRdKTsKCiAgICAgICAgLy8gQWRkIGFycm93IG1hcmtlciBkZWZpbml0aW9uCiAgICAgICAgc3ZnLmFwcGVuZCgiZGVmcyIpLmFwcGVuZCgibWFya2VyIikKICAgICAgICAgICAgLmF0dHIoImlkIiwgImFycm93aGVhZCIpCiAgICAgICAgICAgIC5hdHRyKCJ2aWV3Qm94IiwgIi0wIC01IDEwIDEwIikKICAgICAgICAgICAgLmF0dHIoInJlZlgiLCAyMCkKICAgICAgICAgICAgLmF0dHIoInJlZlkiLCAwKQogICAgICAgICAgICAuYXR0cigib3JpZW50IiwgImF1dG8iKQogICAgICAgICAgICAuYXR0cigibWFya2VyV2lkdGgiLCA2KQogICAgICAgICAgICAuYXR0cigibWFya2VySGVpZ2h0IiwgNikKICAgICAgICAgICAgLmFwcGVuZCgicGF0aCIpCiAgICAgICAgICAgIC5hdHRyKCJkIiwgIk0gMCwtNSBMIDEwLDAgTCAwLDUiKQogICAgICAgICAgICAuYXR0cigiZmlsbCIsICIjOTk5Iik7CgogICAgICAgIC8vIENvbnRhaW5lciBmb3Igem9vbWFibGUgY29udGVudAogICAgICAgIGNvbnN0IGcgPSBzdmcuYXBwZW5kKCJnIik7CgogICAgICAgIC8vIEFkZCB6b29tIGJlaGF2aW9yCiAgICAgICAgY29uc3Qgem9vbSA9IGQzLnpvb20oKQogICAgICAgICAgICAuc2NhbGVFeHRlbnQoWzAuMywgM10pCiAgICAgICAgICAgIC5vbigiem9vbSIsIChldmVudCkgPT4gewogICAgICAgICAgICAgICAgZy5hdHRyKCJ0cmFuc2Zvcm0iLCBldmVudC50cmFuc2Zvcm0pOwogICAgICAgICAgICB9KTsKICAgICAgICBzdmcuY2FsbCh6b29tKTsKCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICAgICAgICBjb25zdCBncmFwaERhdGEgPSBKU09OLnBhcnNlKG1vZGVsLmdldCgiZ3JhcGhfZGF0YSIpKTsKICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSBncmFwaERhdGEubm9kZXM7CiAgICAgICAgICAgIGNvbnN0IGxpbmtzID0gZ3JhcGhEYXRhLmxpbmtzOwogICAgICAgICAgICBjb25zdCBjeWNsZUNvbG9ycyA9IGdyYXBoRGF0YS5jeWNsZV9jb2xvcnM7CiAgICAgICAgICAgIGNvbnN0IG1heEJveGVzID0gZ3JhcGhEYXRhLm1heF9ib3hlcyB8fCA1MDsKCiAgICAgICAgICAgIC8vIENsZWFyIHByZXZpb3VzIGNvbnRlbnQKICAgICAgICAgICAgZy5zZWxlY3RBbGwoIioiKS5yZW1vdmUoKTsKCiAgICAgICAgICAgIC8vIENvbG9yIHNjYWxlIGZvciBjeWNsZXMKICAgICAgICAgICAgY29uc3QgY29sb3JTY2FsZSA9IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVUYWJsZWF1MTApOwoKICAgICAgICAgICAgLy8gQ3JlYXRlIGxpbmtzCiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBnLmFwcGVuZCgiZyIpCiAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCJsaW5lIikKICAgICAgICAgICAgICAgIC5kYXRhKGxpbmtzKQogICAgICAgICAgICAgICAgLmpvaW4oImxpbmUiKQogICAgICAgICAgICAgICAgLmF0dHIoInN0cm9rZSIsIGQgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGN5Y2xlSWR4ID0gY3ljbGVDb2xvcnNbU3RyaW5nKGQuc291cmNlKV07CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3ljbGVMZW4gPSBncmFwaERhdGEuY3ljbGVfbGVuZ3Roc1tTdHJpbmcoY3ljbGVJZHgpXTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3ljbGVMZW4gPiBtYXhCb3hlcyA/ICIjZTQxYTFjIiA6IGNvbG9yU2NhbGUoY3ljbGVJZHgpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5hdHRyKCJzdHJva2Utb3BhY2l0eSIsIDAuNikKICAgICAgICAgICAgICAgIC5hdHRyKCJzdHJva2Utd2lkdGgiLCAxLjUpCiAgICAgICAgICAgICAgICAuYXR0cigibWFya2VyLWVuZCIsICJ1cmwoI2Fycm93aGVhZCkiKTsKCiAgICAgICAgICAgIC8vIENyZWF0ZSBub2RlcwogICAgICAgICAgICBjb25zdCBub2RlID0gZy5hcHBlbmQoImciKQogICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgiZyIpCiAgICAgICAgICAgICAgICAuZGF0YShub2RlcykKICAgICAgICAgICAgICAgIC5qb2luKCJnIikKICAgICAgICAgICAgICAgIC5jYWxsKGQzLmRyYWcoKQogICAgICAgICAgICAgICAgICAgIC5vbigic3RhcnQiLCBkcmFnc3RhcnRlZCkKICAgICAgICAgICAgICAgICAgICAub24oImRyYWciLCBkcmFnZ2VkKQogICAgICAgICAgICAgICAgICAgIC5vbigiZW5kIiwgZHJhZ2VuZGVkKSk7CgogICAgICAgICAgICBub2RlLmFwcGVuZCgiY2lyY2xlIikKICAgICAgICAgICAgICAgIC5hdHRyKCJyIiwgMTIpCiAgICAgICAgICAgICAgICAuYXR0cigiZmlsbCIsIGQgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGN5Y2xlSWR4ID0gY3ljbGVDb2xvcnNbU3RyaW5nKGQuaWQpXTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjeWNsZUxlbiA9IGdyYXBoRGF0YS5jeWNsZV9sZW5ndGhzW1N0cmluZyhjeWNsZUlkeCldOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBjeWNsZUxlbiA+IG1heEJveGVzID8gIiNlNDFhMWMiIDogY29sb3JTY2FsZShjeWNsZUlkeCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmF0dHIoInN0cm9rZSIsICIjZmZmIikKICAgICAgICAgICAgICAgIC5hdHRyKCJzdHJva2Utd2lkdGgiLCAxLjUpOwoKICAgICAgICAgICAgbm9kZS5hcHBlbmQoInRleHQiKQogICAgICAgICAgICAgICAgLnRleHQoZCA9PiBkLmlkICsgMSkKICAgICAgICAgICAgICAgIC5hdHRyKCJ0ZXh0LWFuY2hvciIsICJtaWRkbGUiKQogICAgICAgICAgICAgICAgLmF0dHIoImR5IiwgIjAuMzVlbSIpCiAgICAgICAgICAgICAgICAuYXR0cigiZm9udC1zaXplIiwgIjhweCIpCiAgICAgICAgICAgICAgICAuYXR0cigiZmlsbCIsICJ3aGl0ZSIpCiAgICAgICAgICAgICAgICAuYXR0cigicG9pbnRlci1ldmVudHMiLCAibm9uZSIpOwoKICAgICAgICAgICAgLy8gRm9yY2Ugc2ltdWxhdGlvbiDigJQgbWlkZGxlIGdyb3VuZCBzZXR0aW5ncwogICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gNDA7CiAgICAgICAgICAgIGNvbnN0IHNpbXVsYXRpb24gPSBkMy5mb3JjZVNpbXVsYXRpb24obm9kZXMpCiAgICAgICAgICAgICAgICAuZm9yY2UoImxpbmsiLCBkMy5mb3JjZUxpbmsobGlua3MpLmlkKGQgPT4gZC5pZCkuZGlzdGFuY2UoMzUpLnN0cmVuZ3RoKDEuNSkpCiAgICAgICAgICAgICAgICAuZm9yY2UoImNoYXJnZSIsIGQzLmZvcmNlTWFueUJvZHkoKS5zdHJlbmd0aCgtODApKQogICAgICAgICAgICAgICAgLmZvcmNlKCJjZW50ZXIiLCBkMy5mb3JjZUNlbnRlcih3aWR0aCAvIDIsIGhlaWdodCAvIDIpKQogICAgICAgICAgICAgICAgLmZvcmNlKCJjb2xsaXNpb24iLCBkMy5mb3JjZUNvbGxpZGUoKS5yYWRpdXMoMTYpKQogICAgICAgICAgICAgICAgLmZvcmNlKCJ4IiwgZDMuZm9yY2VYKHdpZHRoIC8gMikuc3RyZW5ndGgoMC4wNSkpCiAgICAgICAgICAgICAgICAuZm9yY2UoInkiLCBkMy5mb3JjZVkoaGVpZ2h0IC8gMikuc3RyZW5ndGgoMC4wNSkpOwoKICAgICAgICAgICAgc2ltdWxhdGlvbi5vbigidGljayIsICgpID0+IHsKICAgICAgICAgICAgICAgIC8vIFNvZnQgYm91bmRzCiAgICAgICAgICAgICAgICBub2Rlcy5mb3JFYWNoKGQgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChkLnggPCBwYWRkaW5nKSBkLnggKz0gKHBhZGRpbmcgLSBkLngpICogMC4xNTsKICAgICAgICAgICAgICAgICAgICBpZiAoZC54ID4gd2lkdGggLSBwYWRkaW5nKSBkLnggLT0gKGQueCAtICh3aWR0aCAtIHBhZGRpbmcpKSAqIDAuMTU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGQueSA8IHBhZGRpbmcpIGQueSArPSAocGFkZGluZyAtIGQueSkgKiAwLjE1OwogICAgICAgICAgICAgICAgICAgIGlmIChkLnkgPiBoZWlnaHQgLSBwYWRkaW5nKSBkLnkgLT0gKGQueSAtIChoZWlnaHQgLSBwYWRkaW5nKSkgKiAwLjE1OwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgbGluawogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJ4MSIsIGQgPT4gZC5zb3VyY2UueCkKICAgICAgICAgICAgICAgICAgICAuYXR0cigieTEiLCBkID0+IGQuc291cmNlLnkpCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoIngyIiwgZCA9PiBkLnRhcmdldC54KQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCJ5MiIsIGQgPT4gZC50YXJnZXQueSk7CgogICAgICAgICAgICAgICAgbm9kZS5hdHRyKCJ0cmFuc2Zvcm0iLCBkID0+IGB0cmFuc2xhdGUoJHtkLnh9LCR7ZC55fSlgKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBmdW5jdGlvbiBkcmFnc3RhcnRlZChldmVudCwgZCkgewogICAgICAgICAgICAgICAgaWYgKCFldmVudC5hY3RpdmUpIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMC4zKS5yZXN0YXJ0KCk7CiAgICAgICAgICAgICAgICBkLmZ4ID0gZC54OwogICAgICAgICAgICAgICAgZC5meSA9IGQueTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZHJhZ2dlZChldmVudCwgZCkgewogICAgICAgICAgICAgICAgZC5meCA9IGV2ZW50Lng7CiAgICAgICAgICAgICAgICBkLmZ5ID0gZXZlbnQueTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gZHJhZ2VuZGVkKGV2ZW50LCBkKSB7CiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50LmFjdGl2ZSkgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwKTsKICAgICAgICAgICAgICAgIGQuZnggPSBudWxsOwogICAgICAgICAgICAgICAgZC5meSA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIG1vZGVsLm9uKCJjaGFuZ2U6Z3JhcGhfZGF0YSIsIHVwZGF0ZSk7CiAgICAgICAgdXBkYXRlKCk7CiAgICB9CgogICAgZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTsKICAgIA==&quot;' data-js-hash='&quot;702b8c63e0d232237473c305b4262282&quot;'></marimo-anywidget></marimo-ui-element>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "Kclp",
      "code_hash": "bca29d938eafa0ee9b15ac30cf687414",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><ul>\n<li><span style=\"color: green\">\u2705 All prisoners can find their number!</span></li>\n<li><strong>Longest cycle:</strong> 45 boxes</li>\n<li><strong>All cycle lengths:</strong> 45, 31, 13, 6, 3, 2</li>\n</ul></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "emfo",
      "code_hash": "24f8fc0366622a4672082541848980b1",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><hr />\n<h2 id=\"simulation-longest-cycle-distribution\">Simulation: Longest Cycle Distribution</h2>\n<span class=\"paragraph\">The longest cycle is important in this story, and we can simulate the distribution of that.</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "Hstk",
      "code_hash": "eee2cf026b317a717d7081fb848ce3fb",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<marimo-ui-element object-id='Hstk-0' random-id='82882f80-8c43-1153-2cd1-bbb3969cf9bf'><marimo-vega data-initial-value='{}' data-label='null' data-spec='{&quot;config&quot;:{&quot;view&quot;:{&quot;continuousWidth&quot;:300,&quot;continuousHeight&quot;:300}},&quot;data&quot;:{&quot;url&quot;:&quot;data:text/csv;base64,bG9uZ2VzdF9jeWNsZSxwcm9iYWJpbGl0eQoxNiwxZS0wNQoxOCw4ZS0wNQoxOSwwLjAwMDE3CjIwLDAuMDAwMzEKMjEsMC4wMDAzMwoyMiwwLjAwMDYKMjMsMC4wMDA5NwoyNCwwLjAwMTQ2CjI1LDAuMDAxNjgKMjYsMC4wMDI0NwoyNywwLjAwMzA1CjI4LDAuMDAzNwoyOSwwLjAwNDM2CjMwLDAuMDA1OTIKMzEsMC4wMDY4OQozMiwwLjAwNzU4CjMzLDAuMDA4NTgKMzQsMC4wMDk5MgozNSwwLjAxMTEzCjM2LDAuMDExMTUKMzcsMC4wMTE2OQozOCwwLjAxMjc1CjM5LDAuMDE0MjMKNDAsMC4wMTQwMwo0MSwwLjAxNTExCjQyLDAuMDE2MDkKNDMsMC4wMTY3Ngo0NCwwLjAxNjg4CjQ1LDAuMDE3ODIKNDYsMC4wMTczOQo0NywwLjAxNzY3CjQ4LDAuMDE4OTYKNDksMC4wMTk1Mgo1MCwwLjAxOTY0CjUxLDAuMDE5Mgo1MiwwLjAxODk5CjUzLDAuMDE4MzcKNTQsMC4wMTgyNwo1NSwwLjAxNzk3CjU2LDAuMDE3ODYKNTcsMC4wMTcyOQo1OCwwLjAxNjgyCjU5LDAuMDE2ODQKNjAsMC4wMTY2CjYxLDAuMDE2MzIKNjIsMC4wMTYxOQo2MywwLjAxNTUyCjY0LDAuMDE1OTEKNjUsMC4wMTUxNgo2NiwwLjAxNTc1CjY3LDAuMDE1MzUKNjgsMC4wMTU0CjY5LDAuMDE0MzMKNzAsMC4wMTQ5MQo3MSwwLjAxNDQyCjcyLDAuMDE0MTEKNzMsMC4wMTM5OAo3NCwwLjAxNDIzCjc1LDAuMDEzNTIKNzYsMC4wMTM4Mwo3NywwLjAxMjg4Cjc4LDAuMDEyMDYKNzksMC4wMTI0OQo4MCwwLjAxMjU5CjgxLDAuMDEyMTEKODIsMC4wMTIzMQo4MywwLjAxMjA2Cjg0LDAuMDExODUKODUsMC4wMTE5NAo4NiwwLjAxMjA0Cjg3LDAuMDExNjMKODgsMC4wMTA3OAo4OSwwLjAxMTU2CjkwLDAuMDExMDEKOTEsMC4wMTE3Nwo5MiwwLjAxMDk1CjkzLDAuMDEwMzUKOTQsMC4wMTA3Ngo5NSwwLjAxMDg5Cjk2LDAuMDEwNDEKOTcsMC4wMTA1NAo5OCwwLjAxMDM4Cjk5LDAuMDEwMjkKMTAwLDAuMDEwMzEK&quot;,&quot;format&quot;:{&quot;type&quot;:&quot;csv&quot;}},&quot;mark&quot;:{&quot;type&quot;:&quot;bar&quot;},&quot;encoding&quot;:{&quot;x&quot;:{&quot;field&quot;:&quot;longest_cycle&quot;,&quot;scale&quot;:{&quot;domain&quot;:[0,100]},&quot;title&quot;:&quot;Longest Cycle Length&quot;,&quot;type&quot;:&quot;quantitative&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;probability&quot;,&quot;title&quot;:&quot;Probability&quot;,&quot;type&quot;:&quot;quantitative&quot;}},&quot;height&quot;:300,&quot;title&quot;:&quot;Distribution of longest cycle&quot;,&quot;width&quot;:700,&quot;&#36;schema&quot;:&quot;https://vega.github.io/schema/vega-lite/v6.1.0.json&quot;}' data-chart-selection='true' data-field-selection='true' data-embed-options='{}'></marimo-vega></marimo-ui-element>"
          }
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stderr",
          "text": "[W 260219 15:43:43 altair_transformer:79] Failed to convert data to arrow format, falling back to CSV: `Import pyarrow` failed.  Use pip or conda to install the pyarrow package.\n",
          "mimetype": "text/plain"
        }
      ]
    },
    {
      "id": "nWHF",
      "code_hash": "fa9469e3ab604bb2e7487ceaf3ff3dee",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"extra-detail\">Extra detail</h2>\n<span class=\"paragraph\">At this point you might think, \"well, that's all very nice\", but what if I am prisoner 42. I would select box 42 and walk along the cycle. What guarantees mee that my number is on the cycle that I am on right now?</span>\n<span class=\"paragraph\">For any position to be part of a cycle, something must point to it \u2014 that's what makes it a cycle rather than a dead end.</span>\n<span class=\"paragraph\"><marimo-tex class=\"arithmatex\">||(... \\Rightarrow a \\Rightarrow 42 \\Rightarrow b \\Rightarrow ...||)</marimo-tex></span>\n<span class=\"paragraph\">The box that points to position 42 is, by definition, the box containing slip 42. Otherwise we would not be in a cycle!</span>\n<span class=\"paragraph\">Therefore, when prisoner 42 traverses their cycle, they must pass through this predecessor box to complete the loop, and that's exactly where their slip is.</span></span>"
          }
        }
      ],
      "console": []
    }
  ]
}