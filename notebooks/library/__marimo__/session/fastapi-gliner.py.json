{
  "version": "1",
  "metadata": {
    "marimo_version": "0.19.11"
  },
  "cells": [
    {
      "id": "setup",
      "code_hash": "09623d9d98e0d65784744ad4118578c5",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stderr",
          "text": "Warning: You are sending unauthenticated requests to the HF Hub. Please set a HF_TOKEN to enable higher rate limits and faster downloads.\nYou are using a model of type extractor to instantiate a model of type . This is not supported for all configurations of models and can yield errors.\n",
          "mimetype": "text/plain"
        }
      ]
    },
    {
      "id": "Hbol",
      "code_hash": "b9ced99c35118c2f43d1323ff7245bc7",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h1 id=\"gliner-v2\">GliNER v2</h1>\n<span class=\"paragraph\">This notebook contains a special demo. It highlights a new version of GliNER, which historically mainly tried to focus on the named entitiy recognition usecase, but now also supports structured information parsing as well as classification. Think of it as a very lightweight LLM that can still do zero-shot tasks for NLP, but has the benefit of running locally and on a CPU.</span>\n<span class=\"paragraph\">This notebook also highlights the flexibility of marimo. This notebook uses pydantic in a clever way so that we can run this one notebook as an interactive webapp, an API or a command-line utility. Neat!</span></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "MJUe",
      "code_hash": "9c557913ae49bfa30bb63203ca748665",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "vblA",
      "code_hash": "03a580c286628aaae6743b7443ef87e0",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "bkHC",
      "code_hash": "cc6f48df75a05d3c44f12ea0b9656403",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/markdown": "<span class=\"markdown prose dark:prose-invert contents\"><h2 id=\"ui-elements\">UI Elements</h2></span>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "lEQa",
      "code_hash": "e7852cb43d54c26be4e781f1e002eca4",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "PKri",
      "code_hash": "82948ba65f5d960a7845c1017d96e07c",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert contents\"><h3 id=\"text-input\">text input</h3></span><marimo-ui-element object-id='lEQa-0' random-id='5005abd8-3706-7907-7430-6e332160a05e'><marimo-text-area data-initial-value='&quot;&quot;' data-label='null' data-placeholder='&quot;&quot;' data-disabled='false' data-debounce='true' data-full-width='false' data-rows='2'></marimo-text-area></marimo-ui-element><span class=\"markdown prose dark:prose-invert contents\"><h3 id=\"entities\">entities</h3></span><marimo-ui-element object-id='lEQa-1' random-id='19232eeb-0a9b-1de3-b9f0-4087adc279d8'><marimo-anywidget data-initial-value='{&quot;model_id&quot;:&quot;968958c29e6842bb89c949b6284da6de&quot;}' data-label='null' data-js-url='&quot;data:text/javascript;base64,ZnVuY3Rpb24gcmVuZGVyKHsgbW9kZWwsIGVsIH0pIHsKICBlbC5jbGFzc0xpc3QuYWRkKCJkcmFnZ2FibGUtbGlzdC13aWRnZXQiKTsKCiAgbGV0IGRyYWdnZWRJdGVtID0gbnVsbDsKICBsZXQgZHJhZ2dlZEluZGV4ID0gbnVsbDsKICBsZXQgZHJvcFRhcmdldCA9IG51bGw7CiAgbGV0IGRyb3BQb3NpdGlvbiA9IG51bGw7CgogIGZ1bmN0aW9uIHJlbmRlckxpc3QoKSB7CiAgICBlbC5yZXBsYWNlQ2hpbGRyZW4oKTsKCiAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBjb250YWluZXIuY2xhc3NOYW1lID0gImxpc3QtY29udGFpbmVyIjsKCiAgICBtb2RlbC5nZXQoInZhbHVlIikuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgbGV0IGxpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGxpc3RJdGVtLmNsYXNzTmFtZSA9ICJsaXN0LWl0ZW0iOwogICAgICBsaXN0SXRlbS5kcmFnZ2FibGUgPSB0cnVlOwogICAgICBsaXN0SXRlbS5kYXRhc2V0LmluZGV4ID0gaW5kZXg7CgogICAgICBsZXQgZHJhZ0hhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgICBkcmFnSGFuZGxlLmNsYXNzTmFtZSA9ICJkcmFnLWhhbmRsZSI7CiAgICAgIGRyYWdIYW5kbGUuaW5uZXJIVE1MID0gYAogICAgICAgIDxzdmcgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogICAgICAgICAgPGNpcmNsZSBjeD0iNCIgY3k9IjQiIHI9IjEiLz4KICAgICAgICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iNCIgcj0iMSIvPgogICAgICAgICAgPGNpcmNsZSBjeD0iNCIgY3k9IjgiIHI9IjEiLz4KICAgICAgICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iOCIgcj0iMSIvPgogICAgICAgICAgPGNpcmNsZSBjeD0iNCIgY3k9IjEyIiByPSIxIi8+CiAgICAgICAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxIi8+CiAgICAgICAgPC9zdmc+CiAgICAgIGA7CiAgICAgIGRyYWdIYW5kbGUuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIiwgYFJlb3JkZXIgJHtpdGVtfWApOwoKICAgICAgbGV0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICBsYWJlbC5jbGFzc05hbWUgPSAiaXRlbS1sYWJlbCI7CiAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gaXRlbTsKICAgICAgCiAgICAgIGlmIChtb2RlbC5nZXQoImVkaXRhYmxlIikpIHsKICAgICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKCJlZGl0YWJsZSIpOwogICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCAiMCIpOwogICAgICAgIGxhYmVsLm9uY2xpY2sgPSAoZSkgPT4gewogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgIHN0YXJ0RWRpdChsYWJlbCwgaW5kZXgpOwogICAgICAgIH07CiAgICAgICAgbGFiZWwub25rZXlkb3duID0gKGUpID0+IHsKICAgICAgICAgIGlmIChlLmtleSA9PT0gIkVudGVyIiB8fCBlLmtleSA9PT0gIiAiKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgc3RhcnRFZGl0KGxhYmVsLCBpbmRleCk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgbGV0IHJlbW92ZUJ1dHRvbiA9IG51bGw7CiAgICAgIGlmIChtb2RlbC5nZXQoInJlbW92YWJsZSIpKSB7CiAgICAgICAgcmVtb3ZlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgcmVtb3ZlQnV0dG9uLmNsYXNzTmFtZSA9ICJyZW1vdmUtYnV0dG9uIjsKICAgICAgICByZW1vdmVCdXR0b24uaW5uZXJIVE1MID0gYAogICAgICAgICAgPHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik00IDRsNiA2bTAtNmwtNiA2IiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgogICAgICAgICAgPC9zdmc+CiAgICAgICAgYDsKICAgICAgICByZW1vdmVCdXR0b24uc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIiwgYFJlbW92ZSAke2l0ZW19YCk7CiAgICAgICAgcmVtb3ZlQnV0dG9uLm9uY2xpY2sgPSAoZSkgPT4gewogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgIHJlbW92ZUl0ZW0oaW5kZXgpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGxpc3RJdGVtLmFwcGVuZENoaWxkKGRyYWdIYW5kbGUpOwogICAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChsYWJlbCk7CiAgICAgIGlmIChyZW1vdmVCdXR0b24pIHsKICAgICAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChyZW1vdmVCdXR0b24pOwogICAgICB9CgogICAgICBsaXN0SXRlbS5hZGRFdmVudExpc3RlbmVyKCJkcmFnc3RhcnQiLCAoZSkgPT4gewogICAgICAgIGRyYWdnZWRJdGVtID0gbGlzdEl0ZW07CiAgICAgICAgZHJhZ2dlZEluZGV4ID0gaW5kZXg7CiAgICAgICAgbGlzdEl0ZW0uY2xhc3NMaXN0LmFkZCgiZHJhZ2dpbmciKTsKICAgICAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gIm1vdmUiOwogICAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoInRleHQvaHRtbCIsIGxpc3RJdGVtLm91dGVySFRNTCk7CiAgICAgIH0pOwoKICAgICAgbGlzdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ2VuZCIsICgpID0+IHsKICAgICAgICBsaXN0SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCJkcmFnZ2luZyIpOwogICAgICAgIGRyYWdnZWRJdGVtID0gbnVsbDsKICAgICAgICBkcmFnZ2VkSW5kZXggPSBudWxsOwogICAgICAgIGNsZWFyRHJvcEluZGljYXRvcnMoKTsKICAgICAgfSk7CgogICAgICBsaXN0SXRlbS5hZGRFdmVudExpc3RlbmVyKCJkcmFnb3ZlciIsIChlKSA9PiB7CiAgICAgICAgaWYgKGRyYWdnZWRJdGVtICYmIGRyYWdnZWRJdGVtICE9PSBsaXN0SXRlbSkgewogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICJtb3ZlIjsKCiAgICAgICAgICBsZXQgcmVjdCA9IGxpc3RJdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgbGV0IG1pZHBvaW50ID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDI7CiAgICAgICAgICBsZXQgbmV3RHJvcFBvc2l0aW9uID0gZS5jbGllbnRZIDwgbWlkcG9pbnQgPyAidG9wIiA6ICJib3R0b20iOwoKICAgICAgICAgIGlmIChkcm9wVGFyZ2V0ICE9PSBsaXN0SXRlbSB8fCBkcm9wUG9zaXRpb24gIT09IG5ld0Ryb3BQb3NpdGlvbikgewogICAgICAgICAgICBjbGVhckRyb3BJbmRpY2F0b3JzKCk7CiAgICAgICAgICAgIGRyb3BUYXJnZXQgPSBsaXN0SXRlbTsKICAgICAgICAgICAgZHJvcFBvc2l0aW9uID0gbmV3RHJvcFBvc2l0aW9uOwogICAgICAgICAgICBzaG93RHJvcEluZGljYXRvcihsaXN0SXRlbSwgbmV3RHJvcFBvc2l0aW9uKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgbGlzdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigiZHJhZ2xlYXZlIiwgKGUpID0+IHsKICAgICAgICBpZiAoIWxpc3RJdGVtLmNvbnRhaW5zKGUucmVsYXRlZFRhcmdldCkpIHsKICAgICAgICAgIGNsZWFyRHJvcEluZGljYXRvcnMoKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgbGlzdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigiZHJvcCIsIChlKSA9PiB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGlmIChkcmFnZ2VkSXRlbSAmJiBkcmFnZ2VkSXRlbSAhPT0gbGlzdEl0ZW0pIHsKICAgICAgICAgIGxldCB0YXJnZXRJbmRleCA9IHBhcnNlSW50KGxpc3RJdGVtLmRhdGFzZXQuaW5kZXgpOwogICAgICAgICAgbGV0IG5ld0luZGV4ID0gdGFyZ2V0SW5kZXg7CgogICAgICAgICAgaWYgKGRyb3BQb3NpdGlvbiA9PT0gImJvdHRvbSIpIHsKICAgICAgICAgICAgbmV3SW5kZXggPSB0YXJnZXRJbmRleCArIDE7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGRyYWdnZWRJbmRleCA8IG5ld0luZGV4KSB7CiAgICAgICAgICAgIG5ld0luZGV4LS07CiAgICAgICAgICB9CgogICAgICAgICAgcmVvcmRlckl0ZW1zKGRyYWdnZWRJbmRleCwgbmV3SW5kZXgpOwogICAgICAgIH0KICAgICAgICBjbGVhckRyb3BJbmRpY2F0b3JzKCk7CiAgICAgIH0pOwoKICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RJdGVtKTsKICAgIH0pOwoKICAgIGVsLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7CgogICAgaWYgKG1vZGVsLmdldCgiYWRkYWJsZSIpKSB7CiAgICAgIGxldCBhZGRJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGFkZElucHV0LnR5cGUgPSAidGV4dCI7CiAgICAgIGFkZElucHV0LmNsYXNzTmFtZSA9ICJhZGQtaW5wdXQiOwogICAgICBhZGRJbnB1dC5wbGFjZWhvbGRlciA9ICJBZGQgbmV3IGl0ZW0uLi4iOwogICAgICBhZGRJbnB1dC5vbmtleWRvd24gPSAoZSkgPT4gewogICAgICAgIGlmIChlLmtleSA9PT0gIkVudGVyIiAmJiBhZGRJbnB1dC52YWx1ZS50cmltKCkpIHsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIGFkZEl0ZW0oYWRkSW5wdXQudmFsdWUudHJpbSgpKTsKICAgICAgICAgIGFkZElucHV0LnZhbHVlID0gIiI7CiAgICAgICAgICBhZGRJbnB1dC5mb2N1cygpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGVsLmFwcGVuZENoaWxkKGFkZElucHV0KTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGFkZEl0ZW0odGV4dCkgewogICAgbW9kZWwuc2V0KCJ2YWx1ZSIsIFsuLi5tb2RlbC5nZXQoInZhbHVlIiksIHRleHRdKTsKICAgIG1vZGVsLnNhdmVfY2hhbmdlcygpOwogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlSXRlbShpbmRleCkgewogICAgbW9kZWwuc2V0KCJ2YWx1ZSIsICBtb2RlbC5nZXQoInZhbHVlIikudG9TcGxpY2VkKGluZGV4LCAxKSk7CiAgICBtb2RlbC5zYXZlX2NoYW5nZXMoKTsKICB9CgogIGZ1bmN0aW9uIHNob3dEcm9wSW5kaWNhdG9yKGVsZW1lbnQsIHBvc2l0aW9uKSB7CiAgICBsZXQgaW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBpbmRpY2F0b3IuY2xhc3NOYW1lID0gImRyb3AtaW5kaWNhdG9yIjsKICAgIGluZGljYXRvci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICBpbmRpY2F0b3Iuc3R5bGUubGVmdCA9ICIwIjsKICAgIGluZGljYXRvci5zdHlsZS5yaWdodCA9ICIwIjsKICAgIGluZGljYXRvci5zdHlsZS5oZWlnaHQgPSAiMnB4IjsKICAgIGluZGljYXRvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIzAwNjZjYyI7CiAgICBpbmRpY2F0b3Iuc3R5bGUuekluZGV4ID0gIjEwMDAiOwoKICAgIGlmIChwb3NpdGlvbiA9PT0gInRvcCIpIHsKICAgICAgaW5kaWNhdG9yLnN0eWxlLnRvcCA9ICItMXB4IjsKICAgIH0gZWxzZSB7CiAgICAgIGluZGljYXRvci5zdHlsZS5ib3R0b20gPSAiLTFweCI7CiAgICB9CgogICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7CiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGluZGljYXRvcik7CiAgfQoKICBmdW5jdGlvbiBjbGVhckRyb3BJbmRpY2F0b3JzKCkgewogICAgZWwucXVlcnlTZWxlY3RvckFsbCgiLmRyb3AtaW5kaWNhdG9yIikuZm9yRWFjaChpbmRpY2F0b3IgPT4gewogICAgICBpbmRpY2F0b3IucmVtb3ZlKCk7CiAgICB9KTsKICAgIGRyb3BUYXJnZXQgPSBudWxsOwogICAgZHJvcFBvc2l0aW9uID0gbnVsbDsKICB9CgogIGZ1bmN0aW9uIHJlb3JkZXJJdGVtcyhmcm9tSW5kZXgsIHRvSW5kZXgpIHsKICAgIGxldCBpdGVtcyA9IFsuLi5tb2RlbC5nZXQoInZhbHVlIildOwogICAgbGV0IFttb3ZlZEl0ZW1dID0gaXRlbXMuc3BsaWNlKGZyb21JbmRleCwgMSk7CiAgICBpdGVtcy5zcGxpY2UodG9JbmRleCwgMCwgbW92ZWRJdGVtKTsKICAgIG1vZGVsLnNldCgidmFsdWUiLCBpdGVtcyk7CiAgICBtb2RlbC5zYXZlX2NoYW5nZXMoKTsKICB9CgogIGZ1bmN0aW9uIHN0YXJ0RWRpdChsYWJlbCwgaW5kZXgpIHsKICAgIGxldCBjdXJyZW50VGV4dCA9IGxhYmVsLnRleHRDb250ZW50OwogICAgbGV0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgIGlucHV0LnR5cGUgPSAidGV4dCI7CiAgICBpbnB1dC5jbGFzc05hbWUgPSAiZWRpdC1pbnB1dCI7CiAgICBpbnB1dC52YWx1ZSA9IGN1cnJlbnRUZXh0OwogICAgCiAgICBmdW5jdGlvbiBmaW5pc2hFZGl0KHNhdmUgPSBmYWxzZSkgewogICAgICBpZiAoc2F2ZSAmJiBpbnB1dC52YWx1ZS50cmltKCkgJiYgaW5wdXQudmFsdWUudHJpbSgpICE9PSBjdXJyZW50VGV4dCkgewogICAgICAgIGxldCBpdGVtcyA9IFsuLi5tb2RlbC5nZXQoInZhbHVlIildOwogICAgICAgIGl0ZW1zW2luZGV4XSA9IGlucHV0LnZhbHVlLnRyaW0oKTsKICAgICAgICBtb2RlbC5zZXQoInZhbHVlIiwgaXRlbXMpOwogICAgICAgIG1vZGVsLnNhdmVfY2hhbmdlcygpOwogICAgICB9IGVsc2UgewogICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gY3VycmVudFRleHQ7CiAgICAgICAgbGFiZWwuc3R5bGUuZGlzcGxheSA9ICIiOwogICAgICAgIGlucHV0LnJlbW92ZSgpOwogICAgICB9CiAgICB9CiAgICAKICAgIGlucHV0Lm9uYmx1ciA9ICgpID0+IGZpbmlzaEVkaXQodHJ1ZSk7CiAgICBpbnB1dC5vbmtleWRvd24gPSAoZSkgPT4gewogICAgICBpZiAoZS5rZXkgPT09ICJFbnRlciIpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZmluaXNoRWRpdCh0cnVlKTsKICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gIkVzY2FwZSIpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZmluaXNoRWRpdChmYWxzZSk7CiAgICAgIH0KICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgIH07CiAgICAKICAgIGxhYmVsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBsYWJlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShpbnB1dCwgbGFiZWwubmV4dFNpYmxpbmcpOwogICAgaW5wdXQuZm9jdXMoKTsKICAgIGlucHV0LnNlbGVjdCgpOwogIH0KCiAgcmVuZGVyTGlzdCgpOwogIG1vZGVsLm9uKCJjaGFuZ2U6dmFsdWUiLCByZW5kZXJMaXN0KTsKfQoKZXhwb3J0IGRlZmF1bHQgeyByZW5kZXIgfTs=&quot;' data-js-hash='&quot;006f61a02f50f6ae9e4c3ae0c613d6f0&quot;'></marimo-anywidget></marimo-ui-element><span class=\"markdown prose dark:prose-invert contents\"><div class=\"language-text codehilite\"><pre><span></span><code>{\n  &quot;text&quot;: &quot;&quot;\n}\n</code></pre></div></span></div>"
          }
        }
      ],
      "console": []
    },
    {
      "id": "Xref",
      "code_hash": "5aa4fa7dec91200053913c484f67274f",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stdout",
          "text": "Warning: Failed to process text at index 0: TokenizersBackend has no attribute prepare_for_model\n",
          "mimetype": "text/plain"
        }
      ]
    },
    {
      "id": "SFPL",
      "code_hash": "058957a1433b6cbd45238a5a5dddce79",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "BYtC",
      "code_hash": "dd231be53abaaf7339181128762f5d90",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": []
    },
    {
      "id": "RGSE",
      "code_hash": "3e35446a6babb68a4a3ff2a50146d10a",
      "outputs": [
        {
          "type": "data",
          "data": {
            "text/plain": ""
          }
        }
      ],
      "console": [
        {
          "type": "stream",
          "name": "stderr",
          "text": "You are using a model of type extractor to instantiate a model of type . This is not supported for all configurations of models and can yield errors.\n",
          "mimetype": "text/plain"
        },
        {
          "type": "stream",
          "name": "stdout",
          "text": "\u001b[31mF\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[32m.\u001b[0m\u001b[31m                                                                     [100%]\u001b[0m\n=================================== FAILURES ===================================\n\u001b[31m\u001b[1m__________________________________ test_smoke __________________________________\u001b[0m\n\n    def test_smoke():\n        response = client.post(\n            \"/extract/\", json={\"text\": \"Vincent has a happy cat\", \"entities\": [\"animal\", \"person\"]}\n        )\n    \n>       model_out = response.json()[\"entities\"]\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\u001b[1m\u001b[31mE       KeyError: 'entities'\u001b[0m\n\n\u001b[1m\u001b[31mmarimo://fastapi-gliner.py#cell_id=cell\u001b[0m:12: KeyError\n----------------------------- Captured stdout call -----------------------------\nWarning: Failed to process text at index 0: TokenizersBackend has no attribute prepare_for_model\n=================================== Overview ===================================\nPassed Tests:\n\u2713 notebooks/library/fastapi-gliner.py::test_read_main[/]\n\u2713 notebooks/library/fastapi-gliner.py::test_read_main[health]\n\u2713 notebooks/library/fastapi-gliner.py::test_read_main[healthz]\n\nSummary:\nTotal: 4, Passed: 3, Failed: 1, Errors: 0, Skipped: 0\n\u001b[36m\u001b[1m=========================== short test summary info ============================\u001b[0m\n\u001b[31mFAILED\u001b[0m notebooks/library/fastapi-gliner.py::\u001b[1mtest_smoke\u001b[0m - KeyError: 'entities'\n",
          "mimetype": "text/plain"
        }
      ]
    }
  ]
}